# M3.8 Test-Safe Environment Configuration
# Based on .env.dealradarus.local with testing optimizations

# ==============================================
# NEON POSTGRES CONNECTIONS
# ==============================================

DATABASE_URL=postgres://neondb_owner:npg_3qb0XYBhGgAn@ep-old-lake-a1dal75m.ap-southeast-1.aws.neon.tech/neondb?sslmode=require
DATABASE_URL_POOLER=postgres://neondb_owner:npg_3qb0XYBhGgAn@ep-old-lake-a1dal75m-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# ==============================================
# JWT AUTHENTICATION
# ==============================================

JWT_SECRET=Ka9mN2pL8vX4qR7tY1uI3oP6sD9fG5hJ2kM
JWT_ACCESS_EXPIRES=15m
JWT_REFRESH_EXPIRES=7d

# ==============================================
# EMAIL/SMTP CONFIGURATION
# ==============================================

SMTP_HOST=smtp.zoho.com
SMTP_PORT=587
SMTP_USER=deals@dealradarus.com
SMTP_PASS=msB5nwt954PA
FROM_EMAIL=deals@dealradarus.com

# ==============================================
# APPLICATION SETTINGS
# ==============================================

NODE_ENV=test
PORT=3001
FRONTEND_URL=https://dealradarus.com
ADMIN_EMAIL=deals@dealradarus.com

# ==============================================
# SECURITY & RATE LIMITING (TEST-OPTIMIZED)
# ==============================================

SESSION_SECRET=Bx8cV5nL3qK9mR2tY4uI7oP1sD6fH8jM3k
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax
# M3.8 - Relaxed rate limiting for testing
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_SKIP_ON_ERROR=true

# ==============================================
# ANALYTICS & MONITORING (TEST-SAFE)
# ==============================================

GA4_MEASUREMENT_ID=G-TEST123456
GTM_CONTAINER_ID=GTM-TEST123
SENTRY_DSN=
MONITORING_ENABLED=true
LOG_LEVEL=error
METRICS_ENABLED=true
METRICS_PORT=9464
PRIVACY_DNT_RESPECT=true
CONSENT_DEFAULT=granted
ANALYTICS_ENABLED=false
ERROR_TRACKING_ENABLED=false
NOTIFICATIONS_ENABLED=true

# === M3.6 Notifications (TEST-OPTIMIZED) ===
NOTIFY_EMAIL_ENABLED=true
NOTIFY_WEBHOOK_ENABLED=false
DIGEST_ENABLED=false
QUIET_HOURS_LOCAL=false
QUIET_HOURS_START=22:00
QUIET_HOURS_END=07:00
ALERT_DELIVERY_MAX_PER_HOUR=1000
ALERT_RETRY_MAX=3
ALERT_RETRY_BACKOFF_MS=1000
ALERT_DEDUP_WINDOW_MIN=5
ALERT_IDEMPOTENCY_TTL_H=1
WEBHOOK_SIGNATURE_SECRET=m38_test_webhook_secret_key
EMAIL_FROM=test@dealradarus.com
EMAIL_SUBJECT_PREFIX=[TEST]
FRONTEND_BASE_URL=http://localhost:3000

# === M3.7 Performance & Caching (TEST-SAFE) ===
REDIS_URL=redis://127.0.0.1:6379
CACHE_ENABLED=true
CACHE_DEFAULT_TTL_S=30
CACHE_REVIEWS_TTL_S=30
CACHE_COMMENTS_TTL_S=30
CACHE_REPORTS_TTL_S=30
CACHE_BUST_ON_WRITE=true
HTTP_CACHE_ENABLED=false
HTTP_ETAG_ENABLED=false