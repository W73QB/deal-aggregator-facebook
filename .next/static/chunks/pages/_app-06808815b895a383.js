(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{477:()=>{},3282:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eQ});var n=a(7876),i=a(4232),r=a(7328),s=a(1777),o=a(5108),l=a(1040);let d=(0,o.zD)("reviews/fetchByDeal",async(e,t)=>{let{dealId:a,page:n=1,limit:i=10,sort:r="newest"}=e,{rejectWithValue:s}=t;try{return(await l.A.get("".concat("","/reviews/deal/").concat(a),{params:{page:n,limit:i,sort:r}})).data}catch(e){var o;return s((null==(o=e.response)?void 0:o.data)||{message:e.message})}}),c=(0,o.zD)("reviews/create",async(e,t)=>{let{rejectWithValue:a,getState:n}=t;try{let t=n().auth.token;return(await l.A.post("".concat("","/reviews"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){var i;return a((null==(i=e.response)?void 0:i.data)||{message:e.message})}}),u=(0,o.zD)("reviews/update",async(e,t)=>{let{id:a,...n}=e,{rejectWithValue:i,getState:r}=t;try{let e=r().auth.token;return(await l.A.put("".concat("","/reviews/").concat(a),n,{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var s;return i((null==(s=e.response)?void 0:s.data)||{message:e.message})}}),m=(0,o.zD)("reviews/delete",async(e,t)=>{let{rejectWithValue:a,getState:n}=t;try{let t=n().auth.token;return await l.A.delete("".concat("","/reviews/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),e}catch(e){var i;return a((null==(i=e.response)?void 0:i.data)||{message:e.message})}}),p=(0,o.zD)("reviews/vote",async(e,t)=>{let{id:a,helpful:n}=e,{rejectWithValue:i,getState:r}=t;try{let e=r().auth.token,t=await l.A.post("".concat("","/reviews/").concat(a,"/vote"),{helpful:n},{headers:{Authorization:"Bearer ".concat(e)}});return{id:a,vote_counts:t.data.vote_counts}}catch(e){var s;return i((null==(s=e.response)?void 0:s.data)||{message:e.message})}}),h=(0,o.Z0)({name:"reviews",initialState:{reviews:[],dealStats:{avg_rating:0,review_count:0,comment_count:0},pagination:{page:1,limit:10,total_items:0,total_pages:0,has_next:!1,has_prev:!1},loading:!1,error:null,submitting:!1,currentDealId:null},reducers:{clearError:e=>{e.error=null},setCurrentDeal:(e,t)=>{e.currentDealId=t.payload},clearReviews:e=>{e.reviews=[],e.pagination={page:1,limit:10,total_items:0,total_pages:0,has_next:!1,has_prev:!1}}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.reviews=t.payload.data.reviews,e.dealStats=t.payload.data.deal_stats,e.pagination=t.payload.data.pagination}).addCase(d.rejected,(e,t)=>{var a;e.loading=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to fetch reviews"}).addCase(c.pending,e=>{e.submitting=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.submitting=!1,e.reviews.unshift(t.payload.review),e.dealStats.review_count+=1}).addCase(c.rejected,(e,t)=>{var a;e.submitting=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to create review"}).addCase(u.pending,e=>{e.submitting=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.submitting=!1;let a=e.reviews.findIndex(e=>e.id===t.payload.review.id);-1!==a&&(e.reviews[a]=t.payload.review)}).addCase(u.rejected,(e,t)=>{var a;e.submitting=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to update review"}).addCase(m.fulfilled,(e,t)=>{e.reviews=e.reviews.filter(e=>e.id!==t.payload),e.dealStats.review_count=Math.max(0,e.dealStats.review_count-1)}).addCase(p.fulfilled,(e,t)=>{let a=e.reviews.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.reviews[a].helpful_count=t.payload.vote_counts.helpful_count,e.reviews[a].total_votes=t.payload.vote_counts.total_votes)})}}),{clearError:f,setCurrentDeal:g,clearReviews:x}=h.actions,v=h.reducer,j=(0,o.zD)("comments/fetchByDeal",async(e,t)=>{let{dealId:a,page:n=1,limit:i=20}=e,{rejectWithValue:r}=t;try{return(await l.A.get("".concat("","/comments/deal/").concat(a),{params:{page:n,limit:i}})).data}catch(e){var s;return r((null==(s=e.response)?void 0:s.data)||{message:e.message})}}),b=(0,o.zD)("comments/fetchByReview",async(e,t)=>{let{reviewId:a,page:n=1,limit:i=20}=e,{rejectWithValue:r}=t;try{return(await l.A.get("".concat("","/comments/review/").concat(a),{params:{page:n,limit:i}})).data}catch(e){var s;return r((null==(s=e.response)?void 0:s.data)||{message:e.message})}}),_=(0,o.zD)("comments/create",async(e,t)=>{let{rejectWithValue:a,getState:n}=t;try{let t=n().auth.token,a=e.deal_id?"".concat("","/comments/deal/").concat(e.deal_id):"".concat("","/comments/review/").concat(e.review_id);return(await l.A.post(a,e,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){var i;return a((null==(i=e.response)?void 0:i.data)||{message:e.message})}}),y=(0,o.zD)("comments/update",async(e,t)=>{let{id:a,content:n}=e,{rejectWithValue:i,getState:r}=t;try{let e=r().auth.token;return(await l.A.put("".concat("","/comments/").concat(a),{content:n},{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var s;return i((null==(s=e.response)?void 0:s.data)||{message:e.message})}}),w=(0,o.zD)("comments/delete",async(e,t)=>{let{rejectWithValue:a,getState:n}=t;try{let t=n().auth.token;return await l.A.delete("".concat("","/comments/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),e}catch(e){var i;return a((null==(i=e.response)?void 0:i.data)||{message:e.message})}}),N=e=>{let t=new Map,a=[];return e.forEach(e=>{t.set(e.id,{...e,replies:[]})}),e.forEach(e=>{let n=t.get(e.id);e.parent_id&&t.has(e.parent_id)?t.get(e.parent_id).replies.push(n):a.push(n)}),a},C=(0,o.Z0)({name:"comments",initialState:{comments:[],commentTree:[],pagination:{page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1},loading:!1,error:null,submitting:!1,currentDealId:null,currentReviewId:null,expandedReplies:new Set},reducers:{clearError:e=>{e.error=null},clearComments:e=>{e.comments=[],e.commentTree=[],e.pagination={page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1}},setCurrentContext:(e,t)=>{let{dealId:a,reviewId:n}=t.payload;e.currentDealId=a,e.currentReviewId=n},toggleReplies:(e,t)=>{let a=t.payload,n=new Set(e.expandedReplies);n.has(a)?n.delete(a):n.add(a),e.expandedReplies=n},optimisticallyAddComment:(e,t)=>{e.comments.push(t.payload),e.commentTree=N(e.comments)}},extraReducers:e=>{e.addCase(j.pending,e=>{e.loading=!0,e.error=null}).addCase(j.fulfilled,(e,t)=>{e.loading=!1;let{comments:a,pagination:n}=t.payload.data;e.comments=a,e.commentTree=N(a),e.pagination=n}).addCase(j.rejected,(e,t)=>{var a;e.loading=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to fetch comments"}).addCase(b.pending,e=>{e.loading=!0,e.error=null}).addCase(b.fulfilled,(e,t)=>{e.loading=!1;let{comments:a,pagination:n}=t.payload.data;e.comments=a,e.commentTree=N(a),e.pagination=n}).addCase(b.rejected,(e,t)=>{var a;e.loading=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to fetch comments"}).addCase(_.pending,e=>{e.submitting=!0,e.error=null}).addCase(_.fulfilled,(e,t)=>{e.submitting=!1;let a=t.payload.comment;e.comments.push(a),e.commentTree=N(e.comments),e.pagination.total_items+=1}).addCase(_.rejected,(e,t)=>{var a;e.submitting=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to create comment";let n=e.comments.findIndex(e=>e.isOptimistic);-1!==n&&(e.comments.splice(n,1),e.commentTree=N(e.comments))}).addCase(y.pending,e=>{e.submitting=!0,e.error=null}).addCase(y.fulfilled,(e,t)=>{e.submitting=!1;let a=t.payload.comment,n=e.comments.findIndex(e=>e.id===a.id);-1!==n&&(e.comments[n]=a,e.commentTree=N(e.comments))}).addCase(y.rejected,(e,t)=>{var a;e.submitting=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to update comment"}).addCase(w.fulfilled,(e,t)=>{let a=t.payload;e.comments=e.comments.filter(e=>e.id!==a),e.commentTree=N(e.comments),e.pagination.total_items=Math.max(0,e.pagination.total_items-1)}).addCase(w.rejected,(e,t)=>{var a;e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to delete comment"})}}),{clearError:k,clearComments:S,setCurrentContext:A,toggleReplies:D,optimisticallyAddComment:z}=C.actions,I=C.reducer,E=(0,o.zD)("reports/create",async(e,t)=>{let{rejectWithValue:a,getState:n}=t;try{let t=n().auth.token;return(await l.A.post("".concat("","/reports"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(e){var i;return a((null==(i=e.response)?void 0:i.data)||{message:e.message})}}),L=(0,o.zD)("reports/fetchAll",async(e,t)=>{let{page:a=1,limit:n=20,status:i="all"}=e,{rejectWithValue:r,getState:s}=t;try{let e=s().auth.token;return(await l.A.get("".concat("","/reports"),{headers:{Authorization:"Bearer ".concat(e)},params:{page:a,limit:n,status:i}})).data}catch(e){var o;return r((null==(o=e.response)?void 0:o.data)||{message:e.message})}}),F=(0,o.zD)("reports/updateStatus",async(e,t)=>{let{id:a,status:n,reason:i}=e,{rejectWithValue:r,getState:s}=t;try{let e=s().auth.token;return(await l.A.put("".concat("","/reports/").concat(a),{status:n,reason:i},{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var o;return r((null==(o=e.response)?void 0:o.data)||{message:e.message})}}),R=(0,o.zD)("reports/fetchStats",async(e,t)=>{let{rejectWithValue:a,getState:n}=t;try{let e=n().auth.token;return(await l.A.get("".concat("","/reports/stats"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){var i;return a((null==(i=e.response)?void 0:i.data)||{message:e.message})}}),M=(0,o.Z0)({name:"reports",initialState:{reports:[],stats:{pending:0,reviewing:0,dismissed:0,action_taken:0,total:0},pagination:{page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1},loading:!1,statsLoading:!1,error:null,submitting:!1,currentFilter:"all",selectedReport:null,showReportModal:!1,reportingContent:null},reducers:{clearError:e=>{e.error=null},setCurrentFilter:(e,t)=>{e.currentFilter=t.payload},setSelectedReport:(e,t)=>{e.selectedReport=t.payload},showReportModal:(e,t)=>{e.showReportModal=!0,e.reportingContent=t.payload},hideReportModal:e=>{e.showReportModal=!1,e.reportingContent=null},clearReports:e=>{e.reports=[],e.pagination={page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1}}},extraReducers:e=>{e.addCase(E.pending,e=>{e.submitting=!0,e.error=null}).addCase(E.fulfilled,(e,t)=>{e.submitting=!1,e.stats.pending+=1,e.stats.total+=1}).addCase(E.rejected,(e,t)=>{var a;e.submitting=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to submit report"}).addCase(L.pending,e=>{e.loading=!0,e.error=null}).addCase(L.fulfilled,(e,t)=>{e.loading=!1,e.reports=t.payload.data.reports,e.pagination=t.payload.data.pagination}).addCase(L.rejected,(e,t)=>{var a;e.loading=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to fetch reports"}).addCase(F.pending,e=>{e.submitting=!0,e.error=null}).addCase(F.fulfilled,(e,t)=>{e.submitting=!1;let a=t.payload.report,n=e.reports.findIndex(e=>e.id===a.id);if(-1!==n){let t=e.reports[n].status;e.reports[n]=a,e.stats[t]>0&&(e.stats[t]-=1),e.stats[a.status]+=1}}).addCase(F.rejected,(e,t)=>{var a;e.submitting=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to update report status"}).addCase(R.pending,e=>{e.statsLoading=!0}).addCase(R.fulfilled,(e,t)=>{e.statsLoading=!1,e.stats=t.payload.stats}).addCase(R.rejected,(e,t)=>{e.statsLoading=!1})}}),{clearError:B,setCurrentFilter:T,setSelectedReport:P,showReportModal:O,hideReportModal:U,clearReports:H}=M.actions,W=M.reducer,G=e=>localStorage.getItem(e),V=(0,o.Z0)({name:"auth",initialState:{user:null,token:G("token")||null,isAuthenticated:!!G("token"),loading:!1,error:null},reducers:{loginSuccess:(e,t)=>{var a;e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.loading=!1,e.error=null,a=t.payload.token,localStorage.setItem("token",a)},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")},clearError:e=>{e.error=null}}}),{loginSuccess:Y,logout:q,clearError:Z}=V.actions,K=V.reducer,J=(0,o.Z0)({name:"notifications",initialState:{notifications:[],nextId:1},reducers:{addNotification:(e,t)=>{let a={id:e.nextId++,timestamp:Date.now(),autoHide:!1!==t.payload.autoHide,...t.payload};e.notifications.push(a)},removeNotification:(e,t)=>{e.notifications=e.notifications.filter(e=>e.id!==t.payload)},clearAllNotifications:e=>{e.notifications=[]}}}),{addNotification:$,removeNotification:X,clearAllNotifications:Q}=J.actions,ee=J.reducer;l.A.defaults.baseURL="",l.A.defaults.withCredentials=!0,l.A.defaults.headers.common["Content-Type"]="application/json",l.A.interceptors.request.use(e=>e,e=>Promise.reject(e)),l.A.interceptors.response.use(e=>e,e=>{var t,a;return(null==(t=e.response)?void 0:t.status)===401?window.dispatchEvent(new CustomEvent("auth:unauthorized",{detail:{error:e.response}})):(null==(a=e.response)?void 0:a.status)>=500||!e.response,Promise.reject(e)});let et=l.A,ea=(0,o.zD)("inAppNotifications/fetchHistory",async(e,t)=>{let{limit:a=20,offset:n=0,status:i=null,append:r=!1}=e,{rejectWithValue:s}=t;try{let e=new URLSearchParams({limit:a,offset:n});i&&e.append("status",i);let t=await et.get("/notifications/history?".concat(e));return{notifications:t.data.notifications,pagination:t.data.pagination,append:r}}catch(e){var o,l,d;return s({message:(null==(l=e.response)||null==(o=l.data)?void 0:o.message)||"Failed to fetch notifications",status:null==(d=e.response)?void 0:d.status})}}),en=(0,o.zD)("inAppNotifications/markRead",async(e,t)=>{let{rejectWithValue:a}=t;try{return await et.post("/notifications/track/open",{notificationId:e}),e}catch(e){var n,i,r;return a({message:(null==(i=e.response)||null==(n=i.data)?void 0:n.message)||"Failed to mark notification as read",status:null==(r=e.response)?void 0:r.status})}}),ei=(0,o.zD)("inAppNotifications/markAllRead",async(e,t)=>{let{getState:a,rejectWithValue:n}=t;try{let{items:e}=a().inAppNotifications,t=e.filter(e=>!e.opened_at).map(e=>e.id),n=t.map(e=>et.post("/notifications/track/open",{notificationId:e}));return await Promise.all(n),t}catch(e){var i,r,s;return n({message:(null==(r=e.response)||null==(i=r.data)?void 0:i.message)||"Failed to mark all notifications as read",status:null==(s=e.response)?void 0:s.status})}}),er=(0,o.zD)("inAppNotifications/trackClick",async(e,t)=>{let{notificationId:a,targetUrl:n}=e,{rejectWithValue:i}=t;try{let e=await et.post("/notifications/track/click",{notificationId:a,targetUrl:n});return{notificationId:a,redirectUrl:e.data.redirectUrl}}catch(e){var r,s,o;return i({message:(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Failed to track click",status:null==(o=e.response)?void 0:o.status})}}),es=(0,o.zD)("inAppNotifications/fetchPreferences",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await et.get("/notifications/prefs")).data.preferences}catch(e){var n,i,r;return a({message:(null==(i=e.response)||null==(n=i.data)?void 0:n.message)||"Failed to fetch preferences",status:null==(r=e.response)?void 0:r.status})}}),eo=(0,o.zD)("inAppNotifications/updatePreferences",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await et.patch("/notifications/prefs",e)).preferences}catch(e){var n,i,r;return a({message:(null==(i=e.response)||null==(n=i.data)?void 0:n.message)||"Failed to update preferences",status:null==(r=e.response)?void 0:r.status})}}),el={items:[],pagination:{limit:20,offset:0,total:0,hasMore:!1},loading:!1,loadingMore:!1,error:null,unreadCount:0,totalCount:0,lastFetched:null,preferences:null,preferencesLoading:!1,preferencesError:null,statusFilter:null,isOpen:!1,highlightedId:null},ed=(0,o.Z0)({name:"inAppNotifications",initialState:el,reducers:{openPanel:e=>{e.isOpen=!0},closePanel:e=>{e.isOpen=!1},togglePanel:e=>{e.isOpen=!e.isOpen},highlightNotification:(e,t)=>{e.highlightedId=t.payload},clearHighlight:e=>{e.highlightedId=null},setStatusFilter:(e,t)=>{e.statusFilter=t.payload,e.pagination.offset=0,e.items=[]},clearFilter:e=>{e.statusFilter=null,e.pagination.offset=0,e.items=[]},clearAll:e=>({...el}),clearError:e=>{e.error=null,e.preferencesError=null},addNotification:(e,t)=>{let a=t.payload;e.items.unshift(a),e.totalCount+=1,a.opened_at||(e.unreadCount+=1);let n=new Set;e.items=e.items.filter(e=>!n.has(e.id)&&(n.add(e.id),!0))},updateNotification:(e,t)=>{let{id:a,updates:n}=t.payload,i=e.items.findIndex(e=>e.id===a);-1!==i&&(e.items[i]={...e.items[i],...n},n.opened_at&&!e.items[i].opened_at&&(e.unreadCount=Math.max(0,e.unreadCount-1)))}},extraReducers:e=>{e.addCase(ea.pending,(e,t)=>{let{append:a}=t.meta.arg;a?e.loadingMore=!0:e.loading=!0,e.error=null}).addCase(ea.fulfilled,(e,t)=>{let{notifications:a,pagination:n,append:i}=t.payload;e.loading=!1,e.loadingMore=!1,e.error=null,e.lastFetched=Date.now(),i?e.items=[...e.items,...a]:e.items=a,e.pagination=n,e.totalCount=n.total,e.unreadCount=e.items.filter(e=>!e.opened_at).length}).addCase(ea.rejected,(e,t)=>{var a;e.loading=!1,e.loadingMore=!1,e.error=(null==(a=t.payload)?void 0:a.message)||"Failed to fetch notifications"}),e.addCase(en.fulfilled,(e,t)=>{let a=t.payload,n=e.items.find(e=>e.id===a);n&&!n.opened_at&&(n.opened_at=new Date().toISOString(),e.unreadCount=Math.max(0,e.unreadCount-1))}),e.addCase(ei.fulfilled,(e,t)=>{let a=t.payload;e.items.forEach(e=>{a.includes(e.id)&&(e.opened_at=new Date().toISOString())}),e.unreadCount=0}),e.addCase(er.fulfilled,(e,t)=>{let{notificationId:a}=t.payload,n=e.items.find(e=>e.id===a);n&&(n.clicked_at=new Date().toISOString(),n.opened_at||(n.opened_at=new Date().toISOString(),e.unreadCount=Math.max(0,e.unreadCount-1)))}),e.addCase(es.pending,e=>{e.preferencesLoading=!0,e.preferencesError=null}).addCase(es.fulfilled,(e,t)=>{e.preferencesLoading=!1,e.preferences=t.payload}).addCase(es.rejected,(e,t)=>{var a;e.preferencesLoading=!1,e.preferencesError=(null==(a=t.payload)?void 0:a.message)||"Failed to fetch preferences"}),e.addCase(eo.pending,e=>{e.preferencesLoading=!0,e.preferencesError=null}).addCase(eo.fulfilled,(e,t)=>{e.preferencesLoading=!1,e.preferences=t.payload}).addCase(eo.rejected,(e,t)=>{var a;e.preferencesLoading=!1,e.preferencesError=(null==(a=t.payload)?void 0:a.message)||"Failed to update preferences"})}}),{openPanel:ec,closePanel:eu,togglePanel:em,highlightNotification:ep,clearHighlight:eh,setStatusFilter:ef,clearFilter:eg,clearAll:ex,clearError:ev,addNotification:ej,updateNotification:eb}=ed.actions,e_=e=>e.inAppNotifications.items,ey=e=>e.inAppNotifications.unreadCount,ew=e=>e.inAppNotifications.totalCount,eN=e=>e.inAppNotifications.loading,eC=e=>e.inAppNotifications.loadingMore,ek=e=>e.inAppNotifications.error,eS=e=>e.inAppNotifications.pagination,eA=e=>e.inAppNotifications.isOpen,eD=e=>e.inAppNotifications.highlightedId,ez=e=>e.inAppNotifications.statusFilter,eI=e=>e.inAppNotifications.unreadCount>0,eE=ed.reducer,eL=(0,o.U1)({reducer:{reviews:v,comments:I,reports:W,auth:K,notifications:ee,inAppNotifications:eE},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST"]}})});var eF=a(8230),eR=a(9099);let eM=e=>{let{children:t}=e,a=(0,eR.useRouter)(),i=e=>"/"===e?"/"===a.pathname:a.pathname.startsWith(e);return(0,n.jsxs)("div",{className:"app-layout",children:[(0,n.jsx)("header",{className:"main-header",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"header-content",children:[(0,n.jsx)("div",{className:"logo",children:(0,n.jsxs)(eF,{href:"/",className:"logo-link",children:[(0,n.jsx)("div",{className:"logo-animated",children:(0,n.jsxs)("svg",{width:"200",height:"60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 60",children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"radarGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#1A73E8"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#0056b3"})]})}),(0,n.jsxs)("g",{transform:"translate(30, 30)",children:[(0,n.jsx)("circle",{cx:"0",cy:"0",r:"25",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",opacity:"0.3"}),(0,n.jsx)("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",opacity:"0.5"}),(0,n.jsx)("circle",{cx:"0",cy:"0",r:"11",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",opacity:"0.7"}),(0,n.jsx)("line",{x1:"0",y1:"0",x2:"22",y2:"-8",stroke:"url(#radarGradient)",strokeWidth:"3",strokeLinecap:"round",children:(0,n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 0 0;360 0 0",dur:"3s",repeatCount:"indefinite"})}),(0,n.jsx)("circle",{cx:"0",cy:"0",r:"3",fill:"url(#radarGradient)"}),(0,n.jsx)("circle",{cx:"12",cy:"-6",r:"2",fill:"#FF3B30",opacity:"0.8",children:(0,n.jsx)("animate",{attributeName:"opacity",values:"0.4;1;0.4",dur:"2s",repeatCount:"indefinite"})}),(0,n.jsx)("circle",{cx:"-8",cy:"15",r:"2",fill:"#FF3B30",opacity:"0.6",children:(0,n.jsx)("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"2.5s",repeatCount:"indefinite"})}),(0,n.jsx)("circle",{cx:"18",cy:"12",r:"2",fill:"#FF3B30",opacity:"0.7",children:(0,n.jsx)("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"1.8s",repeatCount:"indefinite"})})]}),(0,n.jsxs)("g",{transform:"translate(45, 35)",children:[(0,n.jsx)("path",{d:"M2 2h2l.4 2h7.6l-1.4 6H5L3 4H1",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("circle",{cx:"6",cy:"15",r:"1",fill:"url(#radarGradient)"}),(0,n.jsx)("circle",{cx:"11",cy:"15",r:"1",fill:"url(#radarGradient)"})]}),(0,n.jsx)("text",{x:"75",y:"25",fontFamily:"Arial, sans-serif",fontSize:"18",fontWeight:"bold",fill:"#1A73E8",children:"DealRadar"}),(0,n.jsx)("text",{x:"75",y:"42",fontFamily:"Arial, sans-serif",fontSize:"12",fontWeight:"normal",fill:"#6C757D",children:"US"})]})}),(0,n.jsx)("div",{className:"logo-tagline",children:(0,n.jsx)("span",{children:"Your Radar for the Best Deals"})})]})}),(0,n.jsx)("nav",{className:"main-nav",children:(0,n.jsxs)("ul",{className:"nav-menu",children:[(0,n.jsx)("li",{children:(0,n.jsxs)(eF,{href:"/",className:"nav-link ".concat(i("/")?"active":""),children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),"Home"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(eF,{href:"/deals",className:"nav-link ".concat(i("/deals")?"active":""),children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Deals"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(eF,{href:"/blog",className:"nav-link ".concat(i("/blog")?"active":""),children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),"Blog"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(eF,{href:"/about",className:"nav-link ".concat(i("/about")?"active":""),children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),"About"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(eF,{href:"/contact",className:"nav-link ".concat(i("/contact")?"active":""),children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),"Contact"]})})]})}),(0,n.jsxs)("div",{className:"header-actions",children:[(0,n.jsxs)("div",{className:"search-box",children:[(0,n.jsx)("input",{type:"search",placeholder:"Search deals..."}),(0,n.jsx)("button",{type:"submit",children:(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]}),(0,n.jsxs)("div",{className:"social-links",children:[(0,n.jsxs)("a",{href:"https://facebook.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"social-link facebook",children:[(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"25K"]}),(0,n.jsx)("a",{href:"https://twitter.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"social-link twitter",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,n.jsx)("a",{href:"https://instagram.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram",children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),(0,n.jsx)("button",{className:"mobile-menu-btn","aria-label":"Toggle menu",children:(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})})]})})}),(0,n.jsx)("main",{className:"main-content",children:t}),(0,n.jsx)("footer",{className:"main-footer",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"footer-content",children:[(0,n.jsxs)("div",{className:"footer-section",children:[(0,n.jsx)("h3",{children:"DealRadarUS"}),(0,n.jsx)("p",{children:"Your trusted source for the best tech deals in the US. We scan thousands of deals daily to bring you verified discounts on electronics, gadgets, and more."}),(0,n.jsxs)("div",{className:"social-links",children:[(0,n.jsxs)("a",{href:"https://facebook.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"footer-social-link",children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]}),(0,n.jsxs)("a",{href:"https://twitter.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"footer-social-link",children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Twitter"]}),(0,n.jsxs)("a",{href:"https://instagram.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"footer-social-link",children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Instagram"]})]})]}),(0,n.jsxs)("div",{className:"footer-section",children:[(0,n.jsx)("h4",{children:"Quick Links"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(eF,{href:"/",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(eF,{href:"/deals",children:"All Deals"})}),(0,n.jsx)("li",{children:(0,n.jsx)(eF,{href:"/blog",children:"Blog"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"#newsletter",children:"Newsletter"})})]})]}),(0,n.jsxs)("div",{className:"footer-section",children:[(0,n.jsx)("h4",{children:"Categories"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/deals?category=smartphones",children:"Smartphones"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/deals?category=laptops",children:"Laptops"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/deals?category=gaming",children:"Gaming"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/deals?category=smart-home",children:"Smart Home"})})]})]}),(0,n.jsxs)("div",{className:"footer-section",children:[(0,n.jsx)("h4",{children:"Support"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/contact",children:"Contact Us"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/privacy",children:"Privacy Policy"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/terms",children:"Terms of Service"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"/about",children:"About Us"})})]})]}),(0,n.jsxs)("div",{className:"footer-section",children:[(0,n.jsx)("h4",{children:"\uD83D\uDD14 Deal Alerts"}),(0,n.jsx)("p",{children:"Get the best deals in your inbox!"}),(0,n.jsxs)("form",{className:"footer-newsletter",children:[(0,n.jsx)("input",{type:"email",placeholder:"Your email",required:!0}),(0,n.jsx)("button",{type:"submit",children:"Subscribe"})]}),(0,n.jsx)("small",{children:"Join 25K+ deal hunters"})]})]}),(0,n.jsx)("div",{className:"footer-bottom",children:(0,n.jsxs)("div",{className:"footer-legal",children:[(0,n.jsx)("p",{children:"\xa9 2024 DealRadarUS. All rights reserved."}),(0,n.jsx)("p",{className:"affiliate-notice",children:"\uD83D\uDD17 This site contains affiliate links. We may earn a commission from qualifying purchases at no extra cost to you."})]})})]})})]})},eB={success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"},eT={success:"#28a745",error:"#dc3545",warning:"#ffc107",info:"#007bff"},eP=e=>{let{notification:t}=e,a=(0,s.wA)(),{id:r,type:o="info",message:l,duration:d=4e3,autoHide:c=!0,timestamp:u}=t;(0,i.useEffect)(()=>{if(c&&d>0){let e=setTimeout(()=>{a(X(r))},d);return()=>clearTimeout(e)}},[r,c,d,a]);let m=()=>{a(X(r))},p=c&&d>0?"".concat((Date.now()-u)/d*100,"%"):"0%";return(0,n.jsxs)("div",{className:"notification-toast notification-toast--".concat(o),role:"alert","aria-live":"polite",style:{"--notification-color":eT[o],"--progress-width":p},children:[(0,n.jsxs)("div",{className:"notification-content",children:[(0,n.jsx)("div",{className:"notification-icon",children:eB[o]}),(0,n.jsx)("div",{className:"notification-message",children:l}),(0,n.jsx)("button",{className:"notification-close",onClick:m,onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),m())},"aria-label":"Close notification",tabIndex:0,children:"\xd7"})]}),c&&d>0&&(0,n.jsx)("div",{className:"notification-progress",style:{width:p,backgroundColor:eT[o]}})]})},eO=()=>{let{notifications:e}=(0,s.d4)(e=>e.notifications);return 0===e.length?null:(0,n.jsx)("div",{className:"notification-container",role:"region","aria-label":"Notifications",children:e.map(e=>(0,n.jsx)(eP,{notification:e},e.id))})},eU=e=>{let{size:t="medium",color:a="#007bff",text:i=null}=e;return(0,n.jsxs)("div",{className:"loading-container",role:"status","aria-label":i||"Loading",children:[(0,n.jsx)("div",{className:"loading-spinner ".concat("loading-spinner--".concat(t)),style:{borderTopColor:a}}),i&&(0,n.jsx)("span",{className:"loading-text","aria-hidden":"true",children:i})]})},eH={spam:"Spam or Unwanted Commercial Content",harassment:"Harassment or Bullying",inappropriate:"Inappropriate or Offensive Content",misinformation:"False or Misleading Information",hate_speech:"Hate Speech or Discrimination",copyright:"Copyright Infringement",personal_info:"Personal Information Shared Without Consent",fake_account:"Fake Account or Impersonation",off_topic:"Off-topic or Irrelevant Content",other:"Other (Please Specify)"},eW=()=>{let e=(0,s.wA)(),{showReportModal:t,reportingContent:a,submitting:r}=(0,s.d4)(e=>e.reports),{isAuthenticated:o}=(0,s.d4)(e=>e.auth),[l,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[m,p]=(0,i.useState)("");(0,i.useEffect)(()=>(t?(d(""),u(""),p(""),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);let h=()=>{r||e(U())},f=async t=>{if(t.preventDefault(),!o)return void e($({type:"error",message:"Please login to submit reports",duration:4e3}));if(!l)return void p("Please select a reason for reporting");if("other"===l&&!c.trim())return void p('Please provide details for "Other" reason');if(c.length>1e3)return void p("Description must be less than 1000 characters");try{let t={content_type:a.type,content_id:a.id,reason:l,description:c.trim()};await e(E(t)).unwrap(),e($({type:"success",message:"Report submitted successfully. We will review it shortly.",duration:4e3})),h()}catch(e){p(e.message||"Failed to submit report")}},g=e=>{"Escape"===e.key&&h()};return((0,i.useEffect)(()=>{if(t)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[t]),t&&a)?(0,n.jsx)("div",{className:"report-modal-backdrop",onClick:e=>{e.target===e.currentTarget&&h()},role:"dialog","aria-modal":"true","aria-labelledby":"report-modal-title",children:(0,n.jsxs)("div",{className:"report-modal",children:[(0,n.jsxs)("div",{className:"report-modal-header",children:[(0,n.jsx)("h2",{id:"report-modal-title",children:"Report Content"}),(0,n.jsx)("button",{className:"report-modal-close",onClick:h,disabled:r,"aria-label":"Close report modal",children:"\xd7"})]}),(0,n.jsxs)("div",{className:"report-modal-content",children:[(0,n.jsxs)("div",{className:"content-preview",children:[(0,n.jsxs)("h4",{children:["You are reporting this ",a.type,":"]}),(0,n.jsxs)("div",{className:"content-snippet",children:[a.title&&(0,n.jsxs)("div",{className:"content-title",children:['"',a.title,'"']}),(0,n.jsxs)("div",{className:"content-text",children:[a.content.substring(0,200),a.content.length>200&&"..."]})]})]}),(0,n.jsxs)("form",{onSubmit:f,noValidate:!0,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{className:"form-label",children:"Why are you reporting this content? *"}),(0,n.jsx)("div",{className:"reason-options",children:Object.entries(eH).map(e=>{let[t,a]=e;return(0,n.jsxs)("label",{className:"reason-option",children:[(0,n.jsx)("input",{type:"radio",name:"reason",value:t,checked:l===t,onChange:()=>{d(t),p("")},disabled:r}),(0,n.jsx)("span",{className:"reason-label",children:a})]},t)})})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{htmlFor:"report-description",className:"form-label",children:["Additional Details ","other"===l?"*":"(Optional)"]}),(0,n.jsx)("textarea",{id:"report-description",className:"form-textarea",value:c,onChange:e=>{u(e.target.value),m&&p("")},placeholder:"other"===l?"Please describe the issue...":"Provide any additional context that might help our review...",rows:4,maxLength:1e3,disabled:r}),(0,n.jsxs)("div",{className:"form-help",children:[c.length,"/1000 characters"]})]}),m&&(0,n.jsx)("div",{className:"form-error",role:"alert",children:m}),(0,n.jsxs)("div",{className:"form-actions",children:[(0,n.jsx)("button",{type:"button",className:"btn btn--secondary",onClick:h,disabled:r,children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"btn btn--primary",disabled:r||!l,children:r?(0,n.jsx)(eU,{size:"small"}):"Submit Report"})]})]})]})]})}):null};var eG=a(5961),eV=a(896);window.dataLayer||(window.dataLayer=[]);let eY=window.PRIVACY_SALT||"dealradarus_2025";function eq(e){return e?eV.SHA256(e.toLowerCase()+eY).toString():null}function eZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("false"===(window.ANALYTICS_ENABLED||"true")||"true"===(window.PRIVACY_DNT_RESPECT||"true")&&"1"===navigator.doNotTrack)return;let a=localStorage.getItem("deals_consent");if(!a||!a.includes("granted")||!window.dataLayer)return;let n={event:e,timestamp:new Date().toISOString(),page_url:window.location.href,page_title:document.title,...function(){var e;let t=window.store;if(!t)return{};let a=null==(e=t.getState().auth)?void 0:e.user;return a?{user_id:eq(a.id),user_status:"authenticated",user_role:a.role||"user",user_registration_date:a.created_at?new Date(a.created_at).toISOString().split("T")[0]:null}:{user_status:"anonymous"}}(),...t};n.email&&(n.email_hash=eq(n.email),delete n.email);try{window.dataLayer.push(n)}catch(e){}}function eK(e){if(window.gtmInitialized)return;let t=localStorage.getItem("deals_consent");if(t&&t.includes("granted")&&("true"!==(window.PRIVACY_DNT_RESPECT||"true")||"1"!==navigator.doNotTrack)&&"false"!==(window.ANALYTICS_ENABLED||"true")&&e)try{var a;window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js",consent:{analytics_storage:"granted",ad_storage:"denied",functionality_storage:"granted",security_storage:"granted"}});let t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtm.js?id=".concat(e);let n=null==(a=document.querySelector('meta[name="csp-nonce"]'))?void 0:a.content;n&&(t.nonce=n),t.onerror=()=>{},t.onload=()=>{window.gtmInitialized=!0};let i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}catch(e){}}function eJ(e){let t=e?"granted":"denied",a="v1:".concat(t);localStorage.setItem("deals_consent",a),window.dataLayer&&window.dataLayer.push({event:"consent_update",consent:{analytics_storage:t,functionality_storage:t}});let n=window.GTM_CONTAINER_ID;e&&!window.gtmInitialized&&n&&eK(n)}document.addEventListener("DOMContentLoaded",()=>{let e=localStorage.getItem("deals_consent"),t=window.GTM_CONTAINER_ID;e&&e.includes("granted")&&t&&setTimeout(()=>eK(t),100)});let e$=()=>{let[e,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!1);(0,i.useEffect)(()=>{null===function(){let e=localStorage.getItem("deals_consent");return e?e.includes("granted")?"granted":"denied":null}()&&t(!0)},[]);let s=async()=>{r(!0);try{eJ(!0),t(!1),window.dataLayer&&window.dataLayer.push({event:"consent_granted",consent_timestamp:new Date().toISOString()})}catch(e){}finally{r(!1)}};return e?(0,n.jsxs)("div",{role:"dialog","aria-labelledby":"consent-banner-title","aria-describedby":"consent-banner-description",className:"jsx-ddb8e9e21a089200 consent-banner",children:[(0,n.jsxs)("div",{className:"jsx-ddb8e9e21a089200 consent-banner__content",children:[(0,n.jsxs)("div",{className:"jsx-ddb8e9e21a089200 consent-banner__text",children:[(0,n.jsx)("h3",{id:"consent-banner-title",className:"jsx-ddb8e9e21a089200 consent-banner__title",children:"\uD83C\uDF6A We Value Your Privacy"}),(0,n.jsxs)("p",{id:"consent-banner-description",className:"jsx-ddb8e9e21a089200 consent-banner__description",children:["We use analytics to improve your experience and understand how our platform is used. This helps us make DealRadarUS better for everyone. We never sell your personal data.",(0,n.jsx)("br",{className:"jsx-ddb8e9e21a089200"}),(0,n.jsx)("a",{href:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"jsx-ddb8e9e21a089200 consent-banner__link",children:"View our Privacy Policy"})]})]}),(0,n.jsxs)("div",{className:"jsx-ddb8e9e21a089200 consent-banner__actions",children:[(0,n.jsx)("button",{onClick:()=>{r(!0);try{eJ(!1),t(!1),window.dataLayer&&window.dataLayer.push({event:"consent_denied",consent_timestamp:new Date().toISOString()})}catch(e){}finally{r(!1)}},disabled:a,"aria-label":"Deny analytics tracking",className:"jsx-ddb8e9e21a089200 consent-banner__button consent-banner__button--secondary",children:"Decline"}),(0,n.jsx)("button",{onClick:s,disabled:a,"aria-label":"Accept analytics tracking",className:"jsx-ddb8e9e21a089200 consent-banner__button consent-banner__button--primary",children:a?"Processing...":"Accept"})]})]}),(0,n.jsx)(eG,{id:"ddb8e9e21a089200",children:".consent-banner.jsx-ddb8e9e21a089200{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid#e1e5e9;box-shadow:0 -2px 10px rgba(0,0,0,.1);padding:20px;z-index:10000;animation:slideUp.3s ease-out}@keyframes slideUp{from{transform:translatey(100%)}to{transform:translatey(0)}}.consent-banner__content.jsx-ddb8e9e21a089200{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:20px}.consent-banner__text.jsx-ddb8e9e21a089200{flex:1}.consent-banner__title.jsx-ddb8e9e21a089200{margin:0 0 8px 0;font-size:16px;font-weight:600;color:#1a1a1a}.consent-banner__description.jsx-ddb8e9e21a089200{margin:0;font-size:14px;line-height:1.4;color:#555}.consent-banner__link.jsx-ddb8e9e21a089200{color:#007bff;text-decoration:none;font-weight:500}.consent-banner__link.jsx-ddb8e9e21a089200:hover{color:#0056b3;text-decoration:underline}.consent-banner__actions.jsx-ddb8e9e21a089200{display:flex;gap:12px;flex-shrink:0}.consent-banner__button.jsx-ddb8e9e21a089200{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all.2s ease;min-width:100px}.consent-banner__button.jsx-ddb8e9e21a089200:disabled{opacity:.6;cursor:not-allowed}.consent-banner__button--secondary.jsx-ddb8e9e21a089200{background:#f8f9fa;color:#495057;border:1px solid#dee2e6}.consent-banner__button--secondary.jsx-ddb8e9e21a089200:hover:not(:disabled){background:#e9ecef;border-color:#adb5bd}.consent-banner__button--primary.jsx-ddb8e9e21a089200{background:#007bff;color:white}.consent-banner__button--primary.jsx-ddb8e9e21a089200:hover:not(:disabled){background:#0056b3}@media(max-width:768px){.consent-banner.jsx-ddb8e9e21a089200{padding:16px}.consent-banner__content.jsx-ddb8e9e21a089200{flex-direction:column;align-items:flex-start;gap:16px}.consent-banner__actions.jsx-ddb8e9e21a089200{width:100%;justify-content:flex-end}.consent-banner__button.jsx-ddb8e9e21a089200{min-width:80px;padding:8px 16px;font-size:13px}.consent-banner__title.jsx-ddb8e9e21a089200{font-size:15px}.consent-banner__description.jsx-ddb8e9e21a089200{font-size:13px}}@media(prefers-contrast:high){.consent-banner.jsx-ddb8e9e21a089200{border-top:2px solid#000;box-shadow:0 -2px 10px rgba(0,0,0,.3)}.consent-banner__button--secondary.jsx-ddb8e9e21a089200{border:2px solid#495057}}@media(prefers-reduced-motion:reduce){.consent-banner.jsx-ddb8e9e21a089200{animation:none}}.consent-banner__button.jsx-ddb8e9e21a089200:focus{outline:2px solid#007bff;outline-offset:2px}.consent-banner__link.jsx-ddb8e9e21a089200:focus{outline:2px solid#007bff;outline-offset:1px;border-radius:2px}"})]}):null},eX=e=>{let{className:t=""}=e,a=(0,s.wA)(),r=(0,i.useRef)(null),o=(0,i.useRef)(null),l=(0,s.d4)(e_),d=(0,s.d4)(ey),c=(0,s.d4)(ew),u=(0,s.d4)(eN),m=(0,s.d4)(eC),p=(0,s.d4)(ek),h=(0,s.d4)(eS),f=(0,s.d4)(eA),g=(0,s.d4)(eD),x=(0,s.d4)(ez),v=(0,s.d4)(eI),[j,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{f&&0===l.length&&!u&&a(ea({limit:20,offset:0}))},[f,l.length,u,a]),(0,i.useEffect)(()=>{if(g&&f){let e=document.getElementById("notification-".concat(g));e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>a(eh()),2e3))}},[g,f,a]),(0,i.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&a(eu())};if(f)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[f,a]),(0,i.useEffect)(()=>{let e=()=>{if(!o.current||m||!h.hasMore)return;let{scrollTop:e,scrollHeight:t,clientHeight:n}=o.current;(e+n)/t>.8&&a(ea({limit:20,offset:h.offset+h.limit,status:x,append:!0}))},t=o.current;if(t&&f)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[a,m,h,x,f]);let _=async e=>{e.opened_at||(a(en(e.id)),function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"direct";eZ("notif_open",{channel:e,template:t,open_method:a,timestamp:new Date().toISOString()})}("in_app",e.template));let t=e.payload_json;if(t&&t.deals&&t.deals.length>0){let i=t.deals[0].url;if(i){var n;let t=await a(er({notificationId:e.id,targetUrl:i}));!function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;eZ("notif_click",{channel:e,template:t,has_target_url:!!a,target_domain:a?new URL(a).hostname:null,timestamp:new Date().toISOString()})}("in_app",e.template,i),(null==(n=t.payload)?void 0:n.redirectUrl)&&window.open(t.payload.redirectUrl,"_blank")}}},y=e=>{e===x?a(eg()):a(ef(e)),a(ea({limit:20,offset:0,status:e}))},w=()=>{a(ea({limit:20,offset:0,status:x}))};return f?(0,n.jsxs)("div",{className:"notification-center ".concat(t),ref:r,children:[(0,n.jsxs)("div",{className:"notification-center__header",children:[(0,n.jsxs)("div",{className:"notification-center__title",children:[(0,n.jsx)("h3",{children:"Notifications"}),d>0&&(0,n.jsx)("span",{className:"notification-center__badge",children:d})]}),(0,n.jsxs)("div",{className:"notification-center__actions",children:[(0,n.jsx)("button",{className:"notification-center__action-btn",onClick:()=>b(!j),title:"Filter notifications","aria-label":"Filter notifications",children:"\uD83D\uDD0D"}),(0,n.jsx)("button",{className:"notification-center__action-btn",onClick:w,disabled:u,title:"Refresh notifications","aria-label":"Refresh notifications",children:u?"⏳":"\uD83D\uDD04"}),v&&(0,n.jsx)("button",{className:"notification-center__action-btn",onClick:()=>{v&&a(ei())},title:"Mark all as read","aria-label":"Mark all notifications as read",children:"✅"}),(0,n.jsx)("button",{className:"notification-center__close-btn",onClick:()=>a(eu()),title:"Close notifications","aria-label":"Close notification panel",children:"✕"})]})]}),j&&(0,n.jsxs)("div",{className:"notification-center__filters",children:[(0,n.jsx)("button",{className:"filter-btn ".concat(null===x?"filter-btn--active":""),onClick:()=>y(null),children:"All"}),(0,n.jsx)("button",{className:"filter-btn ".concat("sent"===x?"filter-btn--active":""),onClick:()=>y("sent"),children:"Delivered"}),(0,n.jsx)("button",{className:"filter-btn ".concat("failed"===x?"filter-btn--active":""),onClick:()=>y("failed"),children:"Failed"})]}),(0,n.jsxs)("div",{className:"notification-center__content",ref:o,children:[p&&(0,n.jsxs)("div",{className:"notification-center__error",children:[(0,n.jsx)("span",{className:"error-icon",children:"⚠️"}),p,(0,n.jsx)("button",{className:"retry-btn",onClick:w,children:"Retry"})]}),u&&0===l.length&&(0,n.jsxs)("div",{className:"notification-center__loading",children:[(0,n.jsx)("div",{className:"loading-spinner"}),"Loading notifications..."]}),!u&&!p&&0===l.length&&(0,n.jsxs)("div",{className:"notification-center__empty",children:[(0,n.jsx)("span",{className:"empty-icon",children:"\uD83D\uDD14"}),(0,n.jsx)("h4",{children:"No notifications yet"}),(0,n.jsx)("p",{children:"We'll notify you when there are new deals matching your filters."})]}),l.length>0&&(0,n.jsxs)("div",{className:"notification-center__list",children:[l.map(e=>(0,n.jsxs)("div",{id:"notification-".concat(e.id),className:"notification-item ".concat(!e.opened_at?"notification-item--unread":""," ").concat(e.id===g?"notification-item--highlighted":""," ").concat("failed"===e.status?"notification-item--failed":""),onClick:()=>_(e),children:[(0,n.jsx)("div",{className:"notification-item__icon",children:((e,t)=>{if("failed"===t)return"❌";switch(e){case"deal-immediate":return"\uD83C\uDFAF";case"deal-digest":return"\uD83D\uDCCA";case"generic-error":return"⚠️";default:return"\uD83D\uDD14"}})(e.template,e.status)}),(0,n.jsxs)("div",{className:"notification-item__content",children:[(0,n.jsx)("div",{className:"notification-item__body",children:(e=>{var t,a;let i=e.payload_json;switch(e.template){case"deal-immediate":if((null==i||null==(t=i.deals)?void 0:t.length)>0){let e=i.deals[0];return(0,n.jsxs)("div",{className:"notification-deal",children:[(0,n.jsx)("div",{className:"notification-deal__title",children:e.title}),(0,n.jsxs)("div",{className:"notification-deal__price",children:["$",e.price,e.originalPrice&&(0,n.jsxs)("span",{className:"notification-deal__savings",children:["Save $",(e.originalPrice-e.price).toFixed(2)]})]})]})}break;case"deal-digest":if(null==i?void 0:i.totalDeals)return(0,n.jsxs)("div",{className:"notification-digest",children:[(0,n.jsxs)("div",{className:"notification-digest__summary",children:[i.totalDeals," new deals found"]}),(0,n.jsxs)("div",{className:"notification-digest__stats",children:[null==(a=i.categories)?void 0:a.length," categories • Best saving: $",i.bestSaving]})]});break;default:return(0,n.jsx)("div",{className:"notification-generic",children:(null==i?void 0:i.message)||"New notification"})}return(0,n.jsx)("div",{className:"notification-generic",children:"Notification content"})})(e)}),(0,n.jsxs)("div",{className:"notification-item__meta",children:[(0,n.jsx)("span",{className:"notification-item__time",children:(e=>{let t=new Date(e),a=new Date,n=a-t,i=Math.floor(n/6e4),r=Math.floor(n/36e5),s=Math.floor(n/864e5);return i<1?"Just now":i<60?"".concat(i,"m ago"):r<24?"".concat(r,"h ago"):s<7?"".concat(s,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==a.getFullYear()?"numeric":void 0})})(e.created_at)}),"failed"===e.status&&(0,n.jsx)("span",{className:"notification-item__status notification-item__status--failed",children:"Failed"}),e.clicked_at&&(0,n.jsx)("span",{className:"notification-item__status notification-item__status--clicked",children:"Clicked"})]})]}),!e.opened_at&&(0,n.jsx)("div",{className:"notification-item__unread-indicator","aria-label":"Unread"})]},e.id)),m&&(0,n.jsxs)("div",{className:"notification-center__loading-more",children:[(0,n.jsx)("div",{className:"loading-spinner"}),"Loading more..."]}),!m&&h.hasMore&&(0,n.jsx)("div",{className:"notification-center__load-more",children:(0,n.jsx)("button",{className:"load-more-btn",onClick:()=>a(ea({limit:20,offset:h.offset+h.limit,status:x,append:!0})),children:"Load more"})})]})]}),(0,n.jsxs)("div",{className:"notification-center__footer",children:[(0,n.jsx)("div",{className:"notification-center__stats",children:c>0&&(0,n.jsxs)("span",{className:"stats-text",children:["Showing ",l.length," of ",c]})}),(0,n.jsx)("div",{className:"notification-center__settings",children:(0,n.jsx)("a",{href:"/settings/notifications",className:"settings-link",target:"_blank",rel:"noopener noreferrer",children:"⚙️ Settings"})})]})]}):null};function eQ(e){let{Component:t,pageProps:a}=e;return i.useEffect(()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;eZ("page_view",{page_path:e||window.location.pathname,page_location:window.location.href,page_title:document.title})}()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r,{children:[(0,n.jsx)("meta",{name:"robots",content:"index, follow"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:"/logo-concept.svg"}),(0,n.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:"DealRadar US",url:"https://deal-aggregator-facebook.vercel.app",logo:"https://deal-aggregator-facebook.vercel.app/logo-concept.svg",description:"Find the best deals from top US retailers. Smart deal aggregation platform with real-time price tracking and exclusive offers.",potentialAction:{"@type":"SearchAction",target:"https://deal-aggregator-facebook.vercel.app/deals?q={search_term_string}","query-input":"required name=search_term_string"}})})]}),(0,n.jsxs)(s.Kq,{store:eL,children:[(0,n.jsx)(eM,{children:(0,n.jsx)(t,{...a})}),(0,n.jsx)(eO,{}),(0,n.jsx)(eW,{}),(0,n.jsx)(e$,{}),(0,n.jsx)(eX,{})]})]})}a(5379)},5379:()=>{},6556:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(3282)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[96,593,792],()=>(t(6556),t(6296))),_N_E=e.O()}]);