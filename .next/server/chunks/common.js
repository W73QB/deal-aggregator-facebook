exports.id=76,exports.ids=[76],exports.modules={708:(a,b,c)=>{"use strict";c.d(b,{QO:()=>f,Re:()=>g});class d{constructor(){this.isProduction=!0,this.apiEndpoint=process.env.NEXT_PUBLIC_ERROR_ENDPOINT||"/api/errors",this.sessionId=this.generateSessionId(),this.errorQueue=[],this.flushInterval=3e4,this.flushTimerId=null,this.listenersRegistered=!1,this.fetchPatched=!1,this.originalFetch=null,this.performanceObservers=[],this.handleConsentChange=this.handleConsentChange.bind(this)}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}installTracking(){this.listenersRegistered}removeTracking(){}handleConsentChange(a){"full"===(a?.detail?.level||this.getConsentLevel())?this.installTracking():this.removeTracking()}shouldEnable(){return"full"===this.getConsentLevel()}getConsentLevel(){return"none"}captureError(a){let b={...a,sessionId:this.sessionId,timestamp:a.timestamp||new Date().toISOString(),severity:this.determineSeverity(a),context:this.gatherContext(),fingerprint:this.generateFingerprint(a)};this.errorQueue.push(b),this.isProduction,"critical"===b.severity&&this.sendError(b)}determineSeverity(a){let{message:b,type:c}=a;return b?.includes("ChunkLoadError")||b?.includes("Loading chunk")||"unhandled_promise_rejection"===c||b?.includes("Network Error")?"critical":b?.includes("TypeError")||b?.includes("ReferenceError")||b?.includes("API")?"high":b?.includes("Warning")||b?.includes("Deprecated")?"medium":"low"}gatherContext(){return{}}generateFingerprint(a){return btoa(`${a.type}_${a.message}_${a.filename}_${a.lineno}`).substr(0,16)}monitorNetworkErrors(){this.fetchPatched}monitorPerformance(){}captureException(a,b={}){this.captureError({type:"manual_error",message:a.message,stack:a.stack,context:b,timestamp:new Date().toISOString()})}captureEvent(a,b={}){this.captureError({type:"custom_event",message:a,data:b,timestamp:new Date().toISOString()})}async sendError(a){try{await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(b){this.saveToLocalStorage(a)}}saveToLocalStorage(a){try{let b=localStorage.getItem("error_queue")||"[]",c=JSON.parse(b);c.push(a),c.length>50&&c.splice(0,c.length-50),localStorage.setItem("error_queue",JSON.stringify(c))}catch(a){}}async flushErrors(){if(0===this.errorQueue.length)return;let a=[...this.errorQueue];this.errorQueue=[];try{await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"batch_errors",errors:a,sessionId:this.sessionId})})}catch(b){this.errorQueue.unshift(...a)}}getHealthStatus(){return{sessionId:this.sessionId,errorCount:this.errorQueue.length,isOnline:"undefined"==typeof navigator||navigator.onLine,timestamp:new Date().toISOString()}}}let e=null,f=()=>(e||(e=new d),e),g=()=>e||f()},2619:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{M:()=>m});var e=c(9198),f=c(7123),g=c(6480),h=c(6521),i=c(4364),j=c(6057),k=c(8380),l=a([e,f,g,h,i,j,k]);[e,f,g,h,i,j,k]=l.then?(await l)():l;let m=(0,e.configureStore)({reducer:{reviews:f.Ay,comments:g.Ay,reports:h.Ay,auth:i.Ay,notifications:j.Ay,inAppNotifications:k.Ay},middleware:a=>a({serializableCheck:{ignoredActions:["persist/PERSIST"]}})});d()}catch(a){d(a)}})},2664:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(8732);c(2015);var e=c(5815);let f=311==c.j?({rating:a=0,maxRating:b=5,interactive:c=!1,size:f="medium",onRatingChange:g=null,showValue:h=!1})=>(0,d.jsxs)("div",{className:e.ratingStars,role:c?"radiogroup":"img","aria-label":`Rating: ${a} out of ${b} stars`,children:[[...Array(b)].map((b,h)=>{let i=h+1;return(0,d.jsx)("span",{className:(b=>{let d=[e.ratingStar,e[`ratingStar--${f}`]];return c&&d.push(e["ratingStar--interactive"]),b<=a?d.push(e["ratingStar--filled"]):b-.5<=a&&d.push(e["ratingStar--half"]),d.join(" ")})(i),onClick:()=>{c&&g&&g(i)},onKeyDown:a=>((a,b)=>{("Enter"===a.key||" "===a.key)&&c&&g&&(a.preventDefault(),g(b))})(a,i),tabIndex:c?0:-1,role:c?"radio":void 0,"aria-checked":c?i===Math.ceil(a):void 0,"aria-label":`${i} star${i>1?"s":""}`,children:"â˜…"},h)}),h&&(0,d.jsxs)("span",{className:e.ratingValue,"aria-hidden":"true",children:["(",a.toFixed(1),")"]})]}):null},2768:()=>{},3120:(a,b,c)=>{"use strict";c.d(b,{_l:()=>h,dZ:()=>f,fn:()=>j,gj:()=>i});let d=null;async function e(){if(d)return d;try{let a=await c.e(868).then(c.t.bind(c,8868,19));if("function"==typeof a.getInstance&&(d=a.getInstance()),!d){let b=a.default;b?.query&&(d=b)}d||"function"!=typeof a.DatabaseConnection||(global._dealAggregatorMonitoringDb||(global._dealAggregatorMonitoringDb=new a.DatabaseConnection),d=global._dealAggregatorMonitoringDb),d?.query||(d=null)}catch(a){d=null}return d}async function f(){return e()}function g(a,b,c){let d=[],e=[],f=1;return c.forEach(a=>{let c=b.map(()=>`$${f++}`);d.push(`(${c.join(", ")})`),e.push(...a)}),{statement:`INSERT INTO ${a} (${b.join(", ")}) VALUES ${d.join(", ")}`,parameters:e}}async function h(a,b={}){if(!Array.isArray(a)||0===a.length)return;let c=await e();if(!c)throw Error("Analytics logger database unavailable");let{statement:d,parameters:f}=g("analytics_events",["session_id","event_type","data","occurred_at","user_id","url"],a.map(a=>[a.sessionId||b.sessionId||null,a.type,a.data||{},a.timestamp?new Date(a.timestamp):new Date,a.userId||b.userId||null,a.url||null]));await c.query(d,f)}async function i(a){if(!Array.isArray(a)||0===a.length)return;let b=await e();if(!b)throw Error("Error logger database unavailable");let{statement:c,parameters:d}=g("error_logs",["fingerprint","message","stack","severity","occurred_at","error_type","context"],a.map(a=>[a.fingerprint||null,a.message,a.stack||null,a.severity||"unknown",a.timestamp?new Date(a.timestamp):new Date,a.type||"unknown",a.context||null]));await b.query(c,d)}async function j(a){await i([a])}},3891:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(2341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsxs)(e.Head,{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://images.unsplash.com"}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),(0,d.jsx)("link",{rel:"preload",href:"https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400&h=300&fit=crop&auto=format",as:"image"}),(0,d.jsx)("link",{rel:"preload",href:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=300&fit=crop&auto=format",as:"image"}),(0,d.jsx)("style",{children:`
          /* Critical above-the-fold styles */
          .hero {
            background: linear-gradient(135deg, #3B82F6 0%, #1E40AF 50%, #6366F1 100%);
            color: white;
            min-height: 60vh;
            display: flex;
            align-items: center;
          }

          .main-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            position: sticky;
            top: 0;
            z-index: 1000;
          }
        `}),(0,d.jsx)("meta",{name:"theme-color",content:"#FFFFFF"}),(0,d.jsx)("meta",{name:"msapplication-TileColor",content:"#3B82F6"})]}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},4364:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>k});var e=c(9198),f=a([e]);e=(f.then?(await f)():f)[0];let g=(0,e.createSlice)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,loading:!1,error:null},reducers:{loginSuccess:(a,b)=>{a.user=b.payload.user,a.token=b.payload.token,a.isAuthenticated=!0,a.loading=!1,a.error=null,b.payload.token},logout:a=>{a.user=null,a.token=null,a.isAuthenticated=!1},clearError:a=>{a.error=null}}}),{loginSuccess:h,logout:i,clearError:j}=g.actions,k=g.reducer;d()}catch(a){d(a)}})},4920:(a,b,c)=>{"use strict";function d(a,b={}){if("1"===navigator.doNotTrack)return}function e(a=null){d("page_view",{page_path:a||window.location.pathname,page_location:window.location.href,page_title:document.title})}c.d(b,{Fj:()=>d,oe:()=>e}),c(2103)},5115:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(8732);c(2015);var e=c(9487);let f=311==c.j?({category:a,size:b=24,className:c=""})=>{let f={width:b,height:b,viewBox:"0 0 24 24",fill:"currentColor",className:`${e.categoryIcon} ${b<=16?e["categoryIcon--small"]:b<=24?e["categoryIcon--medium"]:b<=32?e["categoryIcon--large"]:e["categoryIcon--xlarge"]} ${(()=>{let b=a.toLowerCase().replace(/-/g,"");return e[`categoryIcon--${b}`]||""})()} ${c}`.trim()};switch(a.toLowerCase()){case"smartphones":case"refurbished-tech":return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M15.5 1h-8A2.5 2.5 0 0 0 5 3.5v17A2.5 2.5 0 0 0 7.5 23h8a2.5 2.5 0 0 0 2.5-2.5v-17A2.5 2.5 0 0 0 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"})});case"laptops":case"computers":return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5z"})});case"smart-home":case"home":return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})});case"gaming":case"games":return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M15.5 9.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5zm4-1.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-3 5.5h-2v2h-2v-2H9v-2h2.5V11h2v1.5H16v2zm6-1.5c0 3.31-2.69 6-6 6H7c-3.31 0-6-2.69-6-6s2.69-6 6-6h10c3.31 0 6 2.69 6 6z"})});case"open-box":case"electronics":return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 9.95 4.16-.21 8-4.4 8-9.95V7l-10-5z"})});case"audio":case"headphones":return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"})});default:return(0,d.jsx)("svg",{...f,children:(0,d.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}}:null},5815:a=>{a.exports={ratingStars:"RatingStars_ratingStars__l9BHs",ratingStar:"RatingStars_ratingStar__YBWLy","ratingStar--small":"RatingStars_ratingStar--small__0i0b1","ratingStar--medium":"RatingStars_ratingStar--medium__SUUIG","ratingStar--large":"RatingStars_ratingStar--large__cQ2bx","ratingStar--filled":"RatingStars_ratingStar--filled__SBEde","ratingStar--half":"RatingStars_ratingStar--half__KG1PB","ratingStar--interactive":"RatingStars_ratingStar--interactive__M9K98",ratingValue:"RatingStars_ratingValue__Fh4yh"}},6057:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>k,ww:()=>i,z8:()=>h});var e=c(9198),f=a([e]);e=(f.then?(await f)():f)[0];let g=(0,e.createSlice)({name:"notifications",initialState:{notifications:[],nextId:1},reducers:{addNotification:(a,b)=>{let c={id:a.nextId++,timestamp:Date.now(),autoHide:!1!==b.payload.autoHide,...b.payload};a.notifications.push(c)},removeNotification:(a,b)=>{a.notifications=a.notifications.filter(a=>a.id!==b.payload)},clearAllNotifications:a=>{a.notifications=[]}}}),{addNotification:h,removeNotification:i,clearAllNotifications:j}=g.actions,k=g.reducer;d()}catch(a){d(a)}})},6480:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>t});var e=c(9198),f=c(1428),g=a([e,f]);[e,f]=g.then?(await g)():g;let h=(0,e.createAsyncThunk)("comments/fetchByDeal",async({dealId:a,page:b=1,limit:c=20},{rejectWithValue:d})=>{try{return(await f.default.get(`/comments/deal/${a}`,{params:{page:b,limit:c}})).data}catch(a){return d(a.response?.data||{message:a.message})}}),i=(0,e.createAsyncThunk)("comments/fetchByReview",async({reviewId:a,page:b=1,limit:c=20},{rejectWithValue:d})=>{try{return(await f.default.get(`/comments/review/${a}`,{params:{page:b,limit:c}})).data}catch(a){return d(a.response?.data||{message:a.message})}}),j=(0,e.createAsyncThunk)("comments/create",async(a,{rejectWithValue:b,getState:c})=>{try{let b=c().auth.token,d=a.deal_id?`/comments/deal/${a.deal_id}`:`/comments/review/${a.review_id}`;return(await f.default.post(d,a,{headers:{Authorization:`Bearer ${b}`}})).data}catch(a){return b(a.response?.data||{message:a.message})}}),k=(0,e.createAsyncThunk)("comments/update",async({id:a,content:b},{rejectWithValue:c,getState:d})=>{try{let c=d().auth.token;return(await f.default.put(`/comments/${a}`,{content:b},{headers:{Authorization:`Bearer ${c}`}})).data}catch(a){return c(a.response?.data||{message:a.message})}}),l=(0,e.createAsyncThunk)("comments/delete",async(a,{rejectWithValue:b,getState:c})=>{try{let b=c().auth.token;return await f.default.delete(`/comments/${a}`,{headers:{Authorization:`Bearer ${b}`}}),a}catch(a){return b(a.response?.data||{message:a.message})}}),m=a=>{let b=new Map,c=[];return a.forEach(a=>{b.set(a.id,{...a,replies:[]})}),a.forEach(a=>{let d=b.get(a.id);a.parent_id&&b.has(a.parent_id)?b.get(a.parent_id).replies.push(d):c.push(d)}),c},n=(0,e.createSlice)({name:"comments",initialState:{comments:[],commentTree:[],pagination:{page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1},loading:!1,error:null,submitting:!1,currentDealId:null,currentReviewId:null,expandedReplies:new Set},reducers:{clearError:a=>{a.error=null},clearComments:a=>{a.comments=[],a.commentTree=[],a.pagination={page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1}},setCurrentContext:(a,b)=>{let{dealId:c,reviewId:d}=b.payload;a.currentDealId=c,a.currentReviewId=d},toggleReplies:(a,b)=>{let c=b.payload,d=new Set(a.expandedReplies);d.has(c)?d.delete(c):d.add(c),a.expandedReplies=d},optimisticallyAddComment:(a,b)=>{a.comments.push(b.payload),a.commentTree=m(a.comments)}},extraReducers:a=>{a.addCase(h.pending,a=>{a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.loading=!1;let{comments:c,pagination:d}=b.payload.data;a.comments=c,a.commentTree=m(c),a.pagination=d}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.error=b.payload?.message||"Failed to fetch comments"}).addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.loading=!1;let{comments:c,pagination:d}=b.payload.data;a.comments=c,a.commentTree=m(c),a.pagination=d}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload?.message||"Failed to fetch comments"}).addCase(j.pending,a=>{a.submitting=!0,a.error=null}).addCase(j.fulfilled,(a,b)=>{a.submitting=!1;let c=b.payload.comment;a.comments.push(c),a.commentTree=m(a.comments),a.pagination.total_items+=1}).addCase(j.rejected,(a,b)=>{a.submitting=!1,a.error=b.payload?.message||"Failed to create comment";let c=a.comments.findIndex(a=>a.isOptimistic);-1!==c&&(a.comments.splice(c,1),a.commentTree=m(a.comments))}).addCase(k.pending,a=>{a.submitting=!0,a.error=null}).addCase(k.fulfilled,(a,b)=>{a.submitting=!1;let c=b.payload.comment,d=a.comments.findIndex(a=>a.id===c.id);-1!==d&&(a.comments[d]=c,a.commentTree=m(a.comments))}).addCase(k.rejected,(a,b)=>{a.submitting=!1,a.error=b.payload?.message||"Failed to update comment"}).addCase(l.fulfilled,(a,b)=>{let c=b.payload;a.comments=a.comments.filter(a=>a.id!==c),a.commentTree=m(a.comments),a.pagination.total_items=Math.max(0,a.pagination.total_items-1)}).addCase(l.rejected,(a,b)=>{a.error=b.payload?.message||"Failed to delete comment"})}}),{clearError:o,clearComments:p,setCurrentContext:q,toggleReplies:r,optimisticallyAddComment:s}=n.actions,t=n.reducer;d()}catch(a){d(a)}})},6496:(a,b,c)=>{"use strict";c.d(b,{As:()=>k,OJ:()=>j});var d=c(8732),e=c(2015);let f=311==c.j?(0,e.createContext)(null):null,g={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REFRESH_TOKEN:"REFRESH_TOKEN",UPDATE_USER:"UPDATE_USER",SET_LOADING:"SET_LOADING"},h={user:null,isAuthenticated:!1,isLoading:!0,error:null,loginAttempting:!1};function i(a,b){switch(b.type){case g.LOGIN_START:return{...a,loginAttempting:!0,error:null};case g.LOGIN_SUCCESS:return{...a,user:b.payload.user,isAuthenticated:!0,isLoading:!1,loginAttempting:!1,error:null};case g.LOGIN_FAILURE:return{...a,user:null,isAuthenticated:!1,isLoading:!1,loginAttempting:!1,error:b.payload.error};case g.LOGOUT:return{...a,user:null,isAuthenticated:!1,isLoading:!1,error:null};case g.REFRESH_TOKEN:return{...a,isLoading:!1};case g.UPDATE_USER:return{...a,user:{...a.user,...b.payload.updates}};case g.SET_LOADING:return{...a,isLoading:b.payload.loading};default:return a}}function j({children:a}){let[b,c]=(0,e.useReducer)(i,h),j=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",k=async()=>{try{let a=await fetch(`${j}/auth/me`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(a.ok){let b=await a.json();c({type:g.LOGIN_SUCCESS,payload:{user:b.data.user}})}else c({type:g.LOGOUT})}catch(a){c({type:g.LOGOUT})}},l=async(a,b)=>{c({type:g.LOGIN_START});try{let d=await fetch(`${j}/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b})}),e=await d.json();if(d.ok&&e.success)return c({type:g.LOGIN_SUCCESS,payload:{user:e.data.user}}),{success:!0,user:e.data.user};{let a=e.message||"Login failed";return c({type:g.LOGIN_FAILURE,payload:{error:a}}),{success:!1,error:a}}}catch(b){let a="Network error. Please try again.";return c({type:g.LOGIN_FAILURE,payload:{error:a}}),{success:!1,error:a}}},m=async a=>{c({type:g.LOGIN_START});try{let b=await fetch(`${j}/auth/signup`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),d=await b.json();if(b.ok&&d.success)return c({type:g.SET_LOADING,payload:{loading:!1}}),{success:!0,message:d.message,user:d.data.user,requiresVerification:!0};{let a=d.message||"Signup failed";return c({type:g.LOGIN_FAILURE,payload:{error:a}}),{success:!1,error:a,details:d.errors}}}catch(b){let a="Network error. Please try again.";return c({type:g.LOGIN_FAILURE,payload:{error:a}}),{success:!1,error:a}}},n=async()=>{try{await fetch(`${j}/auth/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})}catch(a){}finally{c({type:g.LOGOUT})}},o=async()=>{try{if(!(await fetch(`${j}/auth/refresh`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok)return c({type:g.LOGOUT}),!1;return c({type:g.REFRESH_TOKEN}),!0}catch(a){return c({type:g.LOGOUT}),!1}},p={user:b.user,isAuthenticated:b.isAuthenticated,isLoading:b.isLoading,error:b.error,loginAttempting:b.loginAttempting,login:l,signup:m,logout:n,refreshToken:o,updateUser:a=>{c({type:g.UPDATE_USER,payload:{updates:a}})},clearError:()=>{c({type:g.LOGIN_FAILURE,payload:{error:null}})},checkAuthStatus:k};return(0,d.jsx)(f.Provider,{value:p,children:a})}function k(){let a=(0,e.useContext)(f);return a||{user:null,isAuthenticated:!1,isLoading:!0,error:null,loginAttempting:!1,login:()=>Promise.resolve(),signup:()=>Promise.resolve(),logout:()=>Promise.resolve(),refreshToken:()=>Promise.resolve(),updateUser:()=>{},clearError:()=>{},checkAuthStatus:()=>Promise.resolve()}}},6521:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>s,LU:()=>h,kl:()=>q});var e=c(9198),f=c(1428),g=a([e,f]);[e,f]=g.then?(await g)():g;let h=(0,e.createAsyncThunk)("reports/create",async(a,{rejectWithValue:b,getState:c})=>{try{let b=c().auth.token;return(await f.default.post("/reports",a,{headers:{Authorization:`Bearer ${b}`}})).data}catch(a){return b(a.response?.data||{message:a.message})}}),i=(0,e.createAsyncThunk)("reports/fetchAll",async({page:a=1,limit:b=20,status:c="all"},{rejectWithValue:d,getState:e})=>{try{let d=e().auth.token;return(await f.default.get("/reports",{headers:{Authorization:`Bearer ${d}`},params:{page:a,limit:b,status:c}})).data}catch(a){return d(a.response?.data||{message:a.message})}}),j=(0,e.createAsyncThunk)("reports/updateStatus",async({id:a,status:b,reason:c},{rejectWithValue:d,getState:e})=>{try{let d=e().auth.token;return(await f.default.put(`/reports/${a}`,{status:b,reason:c},{headers:{Authorization:`Bearer ${d}`}})).data}catch(a){return d(a.response?.data||{message:a.message})}}),k=(0,e.createAsyncThunk)("reports/fetchStats",async(a,{rejectWithValue:b,getState:c})=>{try{let a=c().auth.token;return(await f.default.get("/reports/stats",{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return b(a.response?.data||{message:a.message})}}),l=(0,e.createSlice)({name:"reports",initialState:{reports:[],stats:{pending:0,reviewing:0,dismissed:0,action_taken:0,total:0},pagination:{page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1},loading:!1,statsLoading:!1,error:null,submitting:!1,currentFilter:"all",selectedReport:null,showReportModal:!1,reportingContent:null},reducers:{clearError:a=>{a.error=null},setCurrentFilter:(a,b)=>{a.currentFilter=b.payload},setSelectedReport:(a,b)=>{a.selectedReport=b.payload},showReportModal:(a,b)=>{a.showReportModal=!0,a.reportingContent=b.payload},hideReportModal:a=>{a.showReportModal=!1,a.reportingContent=null},clearReports:a=>{a.reports=[],a.pagination={page:1,limit:20,total_items:0,total_pages:0,has_next:!1,has_prev:!1}}},extraReducers:a=>{a.addCase(h.pending,a=>{a.submitting=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.submitting=!1,a.stats.pending+=1,a.stats.total+=1}).addCase(h.rejected,(a,b)=>{a.submitting=!1,a.error=b.payload?.message||"Failed to submit report"}).addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.loading=!1,a.reports=b.payload.data.reports,a.pagination=b.payload.data.pagination}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload?.message||"Failed to fetch reports"}).addCase(j.pending,a=>{a.submitting=!0,a.error=null}).addCase(j.fulfilled,(a,b)=>{a.submitting=!1;let c=b.payload.report,d=a.reports.findIndex(a=>a.id===c.id);if(-1!==d){let b=a.reports[d].status;a.reports[d]=c,a.stats[b]>0&&(a.stats[b]-=1),a.stats[c.status]+=1}}).addCase(j.rejected,(a,b)=>{a.submitting=!1,a.error=b.payload?.message||"Failed to update report status"}).addCase(k.pending,a=>{a.statsLoading=!0}).addCase(k.fulfilled,(a,b)=>{a.statsLoading=!1,a.stats=b.payload.stats}).addCase(k.rejected,(a,b)=>{a.statsLoading=!1})}}),{clearError:m,setCurrentFilter:n,setSelectedReport:o,showReportModal:p,hideReportModal:q,clearReports:r}=l.actions,s=l.reducer;d()}catch(a){d(a)}})},6569:(a,b,c)=>{"use strict";c.d(b,{DP:()=>g,NP:()=>h});var d=c(8732),e=c(2015);let f=311==c.j?(0,e.createContext)():null,g=()=>{let a=(0,e.useContext)(f);if(!a)throw Error("useTheme must be used within a ThemeProvider");return a},h=({children:a})=>{let[b,c]=(0,e.useState)("light"),[g,h]=(0,e.useState)(!1);return((0,e.useEffect)(()=>{let a=localStorage.getItem("theme"),b=window.matchMedia("(prefers-color-scheme: dark)").matches;a?c(a):b&&c("dark"),h(!0)},[]),(0,e.useEffect)(()=>{if(g){document.documentElement.setAttribute("data-theme",b),localStorage.setItem("theme",b);let a=document.querySelector('meta[name="theme-color"]');if(a)a.setAttribute("content","dark"===b?"#0F172A":"#FFFFFF");else{let a=document.createElement("meta");a.name="theme-color",a.content="dark"===b?"#0F172A":"#FFFFFF",document.getElementsByTagName("head")[0].appendChild(a)}}},[b,g]),g)?(0,d.jsx)(f.Provider,{value:{theme:b,toggleTheme:()=>{c(a=>"light"===a?"dark":"light")},isDark:"dark"===b,isLoaded:g},children:a}):null}},6660:(a,b,c)=>{"use strict";c.d(b,{tj:()=>g,rB:()=>i});var d=c(2015),e=c(6496);let f=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",g=(a={})=>{let{isAuthenticated:b}=(0,e.As)(),[c,g]=(0,d.useState)([]),[h,i]=(0,d.useState)(!0),[j,k]=(0,d.useState)(null),[l,m]=(0,d.useState)(null),[n,o]=(0,d.useState)(null),p=(0,d.useMemo)(()=>a,[JSON.stringify(a)]),q=(0,d.useCallback)(a=>{let b=new URLSearchParams;return Object.entries(a).forEach(([a,c])=>{null!=c&&""!==c&&"all"!==c&&b.append(a,c)}),b.toString()},[]),r=(0,d.useCallback)(async(a={})=>{try{i(!0),k(null);let b={...p,...a},c=q(b),d=`${f}/deals${c?`?${c}`:""}`,e=await fetch(d,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!e.ok){let a=await e.json().catch(()=>({}));throw Error(a.message||`HTTP ${e.status}: Failed to fetch deals`)}let h=await e.json();if(!1===h.success)throw Error(h.message||"API returned error");let j=h.data.map(a=>({id:a.id,title:a.title,description:a.description,image:a.image,originalPrice:a.originalPrice,salePrice:a.salePrice,price:a.salePrice,discount:a.discount,savings:a.savings,rating:a.rating,category:a.category,featured:a.featured,store:a.store,seller:a.store,affiliateUrl:a.affiliateUrl,tags:a.tags,stockCount:a.stockCount,expiresAt:a.expiresAt,createdAt:a.createdAt,updatedAt:a.updatedAt,badge:a.featured?"Featured":null}));g(j),m(h.pagination),o(h.meta)}catch(a){k(a.message),g([])}finally{i(!1)}},[p,q]);return(0,d.useEffect)(()=>{r()},[r]),{deals:c,loading:h,error:j,pagination:l,meta:n,refetch:(0,d.useCallback)((a={})=>r(a),[r]),getDealById:(0,d.useCallback)(async a=>{try{let b=await fetch(`${f}/deals/${a}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(!b.ok)throw Error(`Failed to fetch deal ${a}`);let c=await b.json();return c.success?c.data:null}catch(a){throw a}},[]),totalDeals:n?.totalSavings||0,averageRating:n?.averageRating||0,hasDeals:c.length>0,isEmpty:!h&&0===c.length}};process.env.NEXT_PUBLIC_API_URL;let h=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",i=()=>{let{isAuthenticated:a}=(0,e.As)(),[b,c]=(0,d.useState)(!1),[f,g]=(0,d.useState)(null),i=(0,d.useCallback)(async(b,d)=>{if(!a)return g("Please log in to manage favorites"),{success:!1,error:"Authentication required"};try{c(!0),g(null);let a=`${h}/deals/${b}/favorite`,e=await fetch(a,{method:d?"DELETE":"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),f=await e.json();if(e.ok&&f.success)return{success:!0,favorited:f.data.favorited,dealId:f.data.dealId};{let a=f.message||"Failed to update favorite";return g(a),{success:!1,error:a}}}catch(b){let a="Network error. Please try again.";return g(a),{success:!1,error:a}}finally{c(!1)}},[a]),j=(0,d.useCallback)(async a=>await i(a,!1),[i]),k=(0,d.useCallback)(async a=>await i(a,!0),[i]);return{loading:b,error:f,toggleFavorite:i,addFavorite:j,removeFavorite:k,getFavorites:(0,d.useCallback)(async(b={})=>{if(!a)return{success:!1,error:"Authentication required"};try{c(!0),g(null);let a=new URLSearchParams(b).toString(),d=`${h}/deals/favorites${a?`?${a}`:""}`,e=await fetch(d,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),f=await e.json();if(e.ok&&f.success)return{success:!0,data:f.data,pagination:f.pagination,meta:f.meta};{let a=f.message||"Failed to fetch favorites";return g(a),{success:!1,error:a}}}catch(b){let a="Network error. Please try again.";return g(a),{success:!1,error:a}}finally{c(!1)}},[a]),clearError:(0,d.useCallback)(()=>{g(null)},[]),canUseFavorites:a}}},6744:(a,b,c)=>{"use strict";c.d(b,{WO:()=>d,Zz:()=>f,aN:()=>e});let d=a=>a&&0!==a.length?{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:a.map((a,b)=>({"@type":"ListItem",position:b+1,name:a.name,item:`https://dealradarus.com${a.url}`}))}:null,e=(a,b="Featured Deals")=>a&&0!==a.length?{"@context":"https://schema.org","@type":"ItemList",name:b,description:`Curated list of ${a.length} best tech deals from trusted retailers`,numberOfItems:a.length,url:"https://dealradarus.com/deals",itemListElement:a.map((a,b)=>({"@type":"ListItem",position:b+1,item:{"@type":"Product",name:a.title,url:`https://dealradarus.com/deals/${a.id}`,image:a.image,offers:{"@type":"Offer",price:a.salePrice||a.price,priceCurrency:"USD",availability:a.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}}}))}:null,f=a=>{try{return JSON.stringify(a)}catch(a){return"{}"}}},6990:(a,b,c)=>{"use strict";c.d(b,{Ct:()=>g,vY:()=>f});class d{constructor(){this.CONSENT_STORAGE_KEY="analytics-consent-level",this.sessionId=this.generateSessionId(),this.userId=null,this.pageLoadTime=Date.now(),this.events=[],this.baseInitialized=!1,this.pageViewTracked=!1,this.performanceMonitoringEnabled=!1,this.userBehaviorTrackingEnabled=!1,this.businessMetricsTrackingEnabled=!1,this.errorTrackingEnabled=!1,this.flushTimer=null,this.flushOnUnloadRegistered=!1,this.timeTrackingInterval=null,this.consentLevel=this.loadConsentLevel(),this.essentialOnly="full"!==this.consentLevel,this.config={enableUserBehavior:!0,enablePerformanceMetrics:!0,enableBusinessMetrics:!0,enableErrorTracking:!0,respectDoNotTrack:!0,anonymizeIPs:!0,batchSize:10,flushInterval:3e4,analyticsEndpoint:"/api/analytics",performanceEndpoint:"/api/performance",businessEndpoint:"/api/business-metrics"},this.performanceMetrics={pageLoadStart:"undefined"!=typeof performance?performance.now():0,domContentLoaded:null,firstContentfulPaint:null,largestContentfulPaint:null,firstInputDelay:null,cumulativeLayoutShift:0},this.syncConfigWithConsent()}async initialize(){}shouldRespectPrivacy(){return"undefined"!=typeof navigator&&!!this.config.respectDoNotTrack&&"1"===navigator.doNotTrack||"none"===this.consentLevel}loadConsentLevel(){return"none"}persistConsentLevel(a){}dispatchConsentChange(a){}syncConfigWithConsent(){"full"===this.consentLevel?(this.config.enableUserBehavior=!0,this.config.enableBusinessMetrics=!0,this.config.enableErrorTracking=!0,this.config.enablePerformanceMetrics=!0):"basic"===this.consentLevel?(this.config.enableUserBehavior=!1,this.config.enableBusinessMetrics=!1,this.config.enableErrorTracking=!1,this.config.enablePerformanceMetrics=!0):(this.config.enableUserBehavior=!1,this.config.enableBusinessMetrics=!1,this.config.enableErrorTracking=!1,this.config.enablePerformanceMetrics=!1),this.essentialOnly="full"!==this.consentLevel}setConsentLevel(a){["none","basic","full"].includes(a)&&this.consentLevel!==a&&(this.consentLevel=a,this.persistConsentLevel(a),this.syncConfigWithConsent(),"full"!==a||this.userId||(this.userId=this.getUserId()),"none"===a&&(this.events=[]),this.dispatchConsentChange(a),this.initialize())}setupUserBehaviorTracking(){let a;if(this.userBehaviorTrackingEnabled||!this.config.enableUserBehavior||"full"!==this.consentLevel)return;document.addEventListener("click",a=>{this.trackEvent("click",{element:a.target.tagName.toLowerCase(),id:a.target.id,className:a.target.className,timestamp:Date.now()})},{capture:!1});let b=0;window.addEventListener("scroll",()=>{clearTimeout(a);let c=Math.max(document.body.scrollHeight-window.innerHeight,1),d=Math.round(window.scrollY/c*100);d>b&&(b=d),a=setTimeout(()=>{this.trackEvent("scroll",{scrollPercent:b,timestamp:Date.now()})},1e3)},{passive:!0}),document.addEventListener("submit",a=>{let b=a.target;this.trackEvent("form_submit",{formId:b.id,formClass:b.className,action:b.action,method:b.method,timestamp:Date.now()})}),document.querySelectorAll('input[type="search"], input[name*="search"]').forEach(a=>{a.addEventListener("keydown",a=>{"Enter"===a.key&&this.trackEvent("search",{source:"search_input",timestamp:Date.now()})})}),document.addEventListener("visibilitychange",()=>{this.trackEvent("visibility_change",{visible:!document.hidden,timestamp:Date.now()})}),this.startTimeTracking(),this.userBehaviorTrackingEnabled=!0}setupPerformanceMonitoring(){!this.performanceMonitoringEnabled&&this.config.enablePerformanceMetrics&&(this.observeWebVitals(),this.observeResourceTiming(),this.observeNavigationTiming(),this.createPerformanceMarks(),this.performanceMonitoringEnabled=!0)}observeWebVitals(){"PerformanceObserver"in window&&(new PerformanceObserver(a=>{let b=a.getEntries(),c=b[b.length-1];this.performanceMetrics.largestContentfulPaint=c.startTime,this.trackEvent("performance_metric",{metric:"LCP",value:c.startTime,rating:this.getWebVitalRating("LCP",c.startTime),timestamp:Date.now()})}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(a=>{let b=a.getEntries()[0];this.performanceMetrics.firstInputDelay=b.processingStart-b.startTime,this.trackEvent("performance_metric",{metric:"FID",value:this.performanceMetrics.firstInputDelay,rating:this.getWebVitalRating("FID",this.performanceMetrics.firstInputDelay),timestamp:Date.now()})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(a=>{for(let b of a.getEntries())b.hadRecentInput||(this.performanceMetrics.cumulativeLayoutShift+=b.value);this.trackEvent("performance_metric",{metric:"CLS",value:this.performanceMetrics.cumulativeLayoutShift,rating:this.getWebVitalRating("CLS",this.performanceMetrics.cumulativeLayoutShift),timestamp:Date.now()})}).observe({entryTypes:["layout-shift"]}))}observeResourceTiming(){"PerformanceObserver"in window&&new PerformanceObserver(a=>{for(let b of a.getEntries())b.duration>1e3&&this.trackEvent("slow_resource",{name:b.name,type:b.initiatorType,duration:b.duration,size:b.transferSize,timestamp:Date.now()})}).observe({entryTypes:["resource"]})}observeNavigationTiming(){window.addEventListener("load",()=>{let a=performance.getEntriesByType("navigation")[0];a&&this.trackEvent("page_load_timing",{domContentLoaded:a.domContentLoadedEventEnd-a.domContentLoadedEventStart,loadComplete:a.loadEventEnd-a.loadEventStart,domInteractive:a.domInteractive-a.fetchStart,firstByte:a.responseStart-a.requestStart,timestamp:Date.now()})})}createPerformanceMarks(){performance.mark("data-collector-initialized"),"PerformanceObserver"in window&&new PerformanceObserver(a=>{for(let b of a.getEntries())b.name.startsWith("app-")&&this.trackEvent("custom_performance_mark",{mark:b.name,timestamp:b.startTime})}).observe({entryTypes:["mark"]})}setupBusinessMetricsTracking(){!this.businessMetricsTrackingEnabled&&this.config.enableBusinessMetrics&&(this.trackDealInteractions(),this.trackSearchBehavior(),this.trackUserEngagement(),this.trackConversions(),this.businessMetricsTrackingEnabled=!0)}trackDealInteractions(){if(document.addEventListener("click",a=>{let b=a.target.closest("[data-deal-id]");if(b){let a=b.getAttribute("data-deal-id"),c=b.querySelector(".deal-title")?.textContent,d=b.querySelector(".deal-price")?.textContent;this.trackEvent("deal_click",{dealId:a,dealTitle:c,dealPrice:d,position:this.getElementPosition(b),timestamp:Date.now()})}}),"IntersectionObserver"in window){let a=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting&&a.intersectionRatio>.5){let b=a.target.getAttribute("data-deal-id");b&&this.trackEvent("deal_view",{dealId:b,viewDuration:Date.now()-(a.target._viewStart||Date.now()),timestamp:Date.now()})}else!a.isIntersecting&&a.target._viewStart?a.target._viewStart=null:a.isIntersecting&&(a.target._viewStart=Date.now())})},{threshold:.5});document.querySelectorAll("[data-deal-id]").forEach(b=>{a.observe(b)})}}trackSearchBehavior(){document.querySelectorAll('form[role="search"], form.search-form').forEach(a=>{a.addEventListener("submit",b=>{let c=a.querySelector('input[type="search"]')?.value;c&&this.trackEvent("search_query",{query:c,source:"main_search",timestamp:Date.now()})})}),document.addEventListener("change",a=>{a.target.matches("[data-filter]")&&this.trackEvent("filter_change",{filterType:a.target.getAttribute("data-filter"),filterValue:a.target.value,timestamp:Date.now()})})}trackUserEngagement(){document.addEventListener("click",a=>{a.target.matches("[data-share]")&&this.trackEvent("social_share",{platform:a.target.getAttribute("data-share"),url:window.location.href,timestamp:Date.now()})}),document.addEventListener("submit",a=>{a.target.matches(".newsletter-form")&&this.trackEvent("newsletter_signup",{source:"newsletter_form",timestamp:Date.now()})}),window.addEventListener("beforeunload",()=>{this.trackEvent("session_summary",{maxDepth:1,timeOnSite:Date.now()-this.pageLoadTime,timestamp:Date.now()})})}trackConversions(){document.addEventListener("click",a=>{let b=a.target.closest("a");b&&b.href&&!b.href.startsWith(window.location.origin)&&this.trackEvent("external_link_click",{url:b.href,text:b.textContent?.slice(0,100),isAffiliate:b.href.includes("amazon.com")||b.href.includes("amzn.to"),timestamp:Date.now()})}),document.addEventListener("click",a=>{let b=a.target.closest('button, .btn, [role="button"]');if(b){let a=b.textContent?.toLowerCase();(a.includes("buy")||a.includes("shop")||a.includes("get deal")||a.includes("claim"))&&this.trackEvent("conversion_intent",{buttonText:b.textContent,buttonId:b.id,timestamp:Date.now()})}})}setupErrorTracking(){!this.errorTrackingEnabled&&this.config.enableErrorTracking&&(window.addEventListener("error",a=>{this.trackEvent("javascript_error",{message:a.message,filename:a.filename,lineno:a.lineno,colno:a.colno,stack:a.error?.stack,timestamp:Date.now()})}),window.addEventListener("unhandledrejection",a=>{this.trackEvent("unhandled_promise_rejection",{reason:a.reason?.toString(),timestamp:Date.now()})}),this.errorTrackingEnabled=!0)}startTimeTracking(){if(this.timeTrackingInterval)return;let a=0;Date.now(),this.timeTrackingInterval=setInterval(()=>{document.hidden||(a+=1e3)},1e3),setTimeout(()=>this.trackEvent("time_milestone",{milestone:"30s",timestamp:Date.now()}),3e4),setTimeout(()=>this.trackEvent("time_milestone",{milestone:"60s",timestamp:Date.now()}),6e4),setTimeout(()=>this.trackEvent("time_milestone",{milestone:"300s",timestamp:Date.now()}),3e5)}startPeriodicFlush(){!this.flushTimer&&(this.flushTimer=setInterval(()=>{this.flushEvents()},this.config.flushInterval),this.flushOnUnloadRegistered||(window.addEventListener("beforeunload",()=>{this.flushEvents(!0)}),this.flushOnUnloadRegistered=!0))}trackEvent(a,b={}){if("none"===this.consentLevel||"basic"===this.consentLevel&&!this.isEssentialEvent(a))return;let c=this.sanitizeEventData(a,b),d={id:this.generateEventId(),type:a,data:c,sessionId:this.sessionId,timestamp:Date.now()};"full"===this.consentLevel&&(d.userId=this.userId,"undefined"!=typeof navigator&&(d.userAgent=navigator.userAgent),d.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),this.events.push(d),this.events.length>=this.config.batchSize&&this.flushEvents()}trackPageView(){if("undefined"==typeof document)return;let a={title:document.title,path:window.location.pathname,timestamp:Date.now()};"full"===this.consentLevel&&(a.referrer=document.referrer,a.search=window.location.search,a.hash=window.location.hash),this.trackEvent("page_view",a)}isEssentialEvent(a){return new Set(["page_view","performance_metric","page_load_timing","time_milestone","session_summary","visibility_change","scroll","slow_resource"]).has(a)}sanitizeEventData(a,b={}){if("basic"===this.consentLevel){let a=new Set(["timestamp","title","path","metric","value","rating","milestone","visible","scrollPercent","status"]),c={};for(let d of a)void 0!==b[d]&&(c[d]=b[d]);return c.timestamp=c.timestamp||Date.now(),c}let c={...b};return["text","query","x","y","clientX","clientY","pageX","pageY","innerText","outerHTML","formValues"].forEach(a=>{a in c&&delete c[a]}),c.timestamp=c.timestamp||Date.now(),c}async flushEvents(a=!1){if(0===this.events.length)return;let b=[...this.events];this.events=[];try{let c={sessionId:this.sessionId,userId:"full"===this.consentLevel?this.userId:null,events:b,timestamp:Date.now()};a&&"sendBeacon"in navigator?navigator.sendBeacon(this.config.analyticsEndpoint,JSON.stringify(c)):await fetch(this.config.analyticsEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})}catch(a){this.events.unshift(...b)}}generateSessionId(){return"sess_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}generateEventId(){return"evt_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}getUserId(){let a=localStorage.getItem("user_id");return a||(a="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("user_id",a)),a}getWebVitalRating(a,b){let c={LCP:{good:2500,poor:4e3},FID:{good:100,poor:300},CLS:{good:.1,poor:.25}}[a];return c?b<=c.good?"good":b<=c.poor?"needs-improvement":"poor":"unknown"}getElementPosition(a){let b=a.getBoundingClientRect();return{index:Array.from(a.parentElement.children).indexOf(a),x:b.left,y:b.top,width:b.width,height:b.height}}setUserId(a){this.userId=a,localStorage.setItem("user_id",a)}setUserProperties(a){this.trackEvent("user_properties",a)}trackCustomEvent(a,b){this.trackEvent("custom_"+a,b)}optOut(){this.setConsentLevel("none")}optIn(){this.setConsentLevel("full")}}let e=null,f=()=>(e||(e=new d).initialize(),e),g=()=>e||f()},6992:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{A:()=>g});var e=c(1428),f=a([e]);(e=(f.then?(await f)():f)[0]).default.defaults.baseURL="",e.default.defaults.withCredentials=!0,e.default.defaults.headers.common["Content-Type"]="application/json",e.default.interceptors.request.use(a=>a,a=>Promise.reject(a)),e.default.interceptors.response.use(a=>a,a=>(a.response?.status===401||a.response?.status>=500||!a.response,Promise.reject(a)));let g=311==c.j?e.default:null;d()}catch(a){d(a)}})},7123:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>q});var e=c(9198),f=c(1428),g=a([e,f]);[e,f]=g.then?(await g)():g;let h=(0,e.createAsyncThunk)("reviews/fetchByDeal",async({dealId:a,page:b=1,limit:c=10,sort:d="newest"},{rejectWithValue:e})=>{try{return(await f.default.get(`/reviews/deal/${a}`,{params:{page:b,limit:c,sort:d}})).data}catch(a){return e(a.response?.data||{message:a.message})}}),i=(0,e.createAsyncThunk)("reviews/create",async(a,{rejectWithValue:b,getState:c})=>{try{let b=c().auth.token;return(await f.default.post("/reviews",a,{headers:{Authorization:`Bearer ${b}`}})).data}catch(a){return b(a.response?.data||{message:a.message})}}),j=(0,e.createAsyncThunk)("reviews/update",async({id:a,...b},{rejectWithValue:c,getState:d})=>{try{let c=d().auth.token;return(await f.default.put(`/reviews/${a}`,b,{headers:{Authorization:`Bearer ${c}`}})).data}catch(a){return c(a.response?.data||{message:a.message})}}),k=(0,e.createAsyncThunk)("reviews/delete",async(a,{rejectWithValue:b,getState:c})=>{try{let b=c().auth.token;return await f.default.delete(`/reviews/${a}`,{headers:{Authorization:`Bearer ${b}`}}),a}catch(a){return b(a.response?.data||{message:a.message})}}),l=(0,e.createAsyncThunk)("reviews/vote",async({id:a,helpful:b},{rejectWithValue:c,getState:d})=>{try{let c=d().auth.token,e=await f.default.post(`/reviews/${a}/vote`,{helpful:b},{headers:{Authorization:`Bearer ${c}`}});return{id:a,vote_counts:e.data.vote_counts}}catch(a){return c(a.response?.data||{message:a.message})}}),m=(0,e.createSlice)({name:"reviews",initialState:{reviews:[],dealStats:{avg_rating:0,review_count:0,comment_count:0},pagination:{page:1,limit:10,total_items:0,total_pages:0,has_next:!1,has_prev:!1},loading:!1,error:null,submitting:!1,currentDealId:null},reducers:{clearError:a=>{a.error=null},setCurrentDeal:(a,b)=>{a.currentDealId=b.payload},clearReviews:a=>{a.reviews=[],a.pagination={page:1,limit:10,total_items:0,total_pages:0,has_next:!1,has_prev:!1}}},extraReducers:a=>{a.addCase(h.pending,a=>{a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{a.loading=!1,a.reviews=b.payload.data.reviews,a.dealStats=b.payload.data.deal_stats,a.pagination=b.payload.data.pagination}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.error=b.payload?.message||"Failed to fetch reviews"}).addCase(i.pending,a=>{a.submitting=!0,a.error=null}).addCase(i.fulfilled,(a,b)=>{a.submitting=!1,a.reviews.unshift(b.payload.review),a.dealStats.review_count+=1}).addCase(i.rejected,(a,b)=>{a.submitting=!1,a.error=b.payload?.message||"Failed to create review"}).addCase(j.pending,a=>{a.submitting=!0,a.error=null}).addCase(j.fulfilled,(a,b)=>{a.submitting=!1;let c=a.reviews.findIndex(a=>a.id===b.payload.review.id);-1!==c&&(a.reviews[c]=b.payload.review)}).addCase(j.rejected,(a,b)=>{a.submitting=!1,a.error=b.payload?.message||"Failed to update review"}).addCase(k.fulfilled,(a,b)=>{a.reviews=a.reviews.filter(a=>a.id!==b.payload),a.dealStats.review_count=Math.max(0,a.dealStats.review_count-1)}).addCase(l.fulfilled,(a,b)=>{let c=a.reviews.findIndex(a=>a.id===b.payload.id);-1!==c&&(a.reviews[c].helpful_count=b.payload.vote_counts.helpful_count,a.reviews[c].total_votes=b.payload.vote_counts.total_votes)})}}),{clearError:n,setCurrentDeal:o,clearReviews:p}=m.actions,q=m.reducer;d()}catch(a){d(a)}})},7265:a=>{a.exports={themeToggle:"ThemeToggle_themeToggle__XQm7I",toggleTrack:"ThemeToggle_toggleTrack__D6n2S",dark:"ThemeToggle_dark__VYNxm",toggleThumb:"ThemeToggle_toggleThumb__yGsC_","material-icons":"ThemeToggle_material-icons__Jc3IY",light:"ThemeToggle_light__cn7pO",toggleLabel:"ThemeToggle_toggleLabel__5Znqx",themeChange:"ThemeToggle_themeChange__dI_e9"}},7285:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(8732);c(2015);var e=c(9129);let f=311==c.j?({size:a="medium",color:b="#007bff",text:c=null})=>{let f=e[`loading-spinner--${a}`];return(0,d.jsxs)("div",{className:e.loadingContainer,role:"status","aria-label":c||"Loading",children:[(0,d.jsx)("div",{className:`${e.loadingSpinner} ${f}`,style:{borderTopColor:b}}),c&&(0,d.jsx)("span",{className:e.loadingText,"aria-hidden":"true",children:c})]})}:null},7298:(a,b,c)=>{"use strict";c.d(b,{A:()=>o});var d=c(8732),e=c(2015),f=c(9918),g=c(4233),h=c(7085),i=c(6496);let j=()=>{let{user:a,isAuthenticated:b,isLoading:c,logout:g}=(0,i.As)(),[j,k]=(0,e.useState)(!1),l=(0,e.useRef)(null);(0,e.useEffect)(()=>{let a=a=>{l.current&&!l.current.contains(a.target)&&k(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let m=async()=>{k(!1),await g()};return c?(0,d.jsx)("div",{className:"auth-loading",children:(0,d.jsx)("div",{className:"loading-spinner"})}):b&&a?(0,d.jsxs)("div",{ref:l,className:"jsx-c065b01ba60523e6 user-menu",children:[(0,d.jsxs)("button",{onClick:()=>k(!j),"aria-expanded":j,"aria-haspopup":"true",className:"jsx-c065b01ba60523e6 user-button",children:[(0,d.jsx)("div",{className:"jsx-c065b01ba60523e6 user-avatar",children:a.first_name?a.first_name.charAt(0).toUpperCase():a.email.charAt(0).toUpperCase()}),(0,d.jsx)("span",{className:"jsx-c065b01ba60523e6 user-name",children:a.first_name||a.email.split("@")[0]}),(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:`jsx-c065b01ba60523e6 dropdown-arrow ${j?"open":""}`,children:(0,d.jsx)("path",{d:"M7 10l5 5 5-5z",className:"jsx-c065b01ba60523e6"})})]}),j&&(0,d.jsxs)("div",{className:"jsx-c065b01ba60523e6 dropdown-menu",children:[(0,d.jsx)("div",{className:"jsx-c065b01ba60523e6 dropdown-header",children:(0,d.jsxs)("div",{className:"jsx-c065b01ba60523e6 user-info",children:[(0,d.jsx)("div",{className:"jsx-c065b01ba60523e6 user-avatar-large",children:a.first_name?a.first_name.charAt(0).toUpperCase():a.email.charAt(0).toUpperCase()}),(0,d.jsxs)("div",{className:"jsx-c065b01ba60523e6 user-details",children:[(0,d.jsx)("p",{className:"jsx-c065b01ba60523e6 user-full-name",children:a.first_name&&a.last_name?`${a.first_name} ${a.last_name}`:a.first_name||a.email.split("@")[0]}),(0,d.jsx)("p",{className:"jsx-c065b01ba60523e6 user-email",children:a.email})]})]})}),(0,d.jsx)("div",{className:"jsx-c065b01ba60523e6 dropdown-divider"}),(0,d.jsxs)("div",{className:"jsx-c065b01ba60523e6 dropdown-section",children:[(0,d.jsxs)(f,{href:"/profile",className:"dropdown-item",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-c065b01ba60523e6",children:(0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",className:"jsx-c065b01ba60523e6"})}),"My Profile"]}),(0,d.jsxs)(f,{href:"/favorites",className:"dropdown-item",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-c065b01ba60523e6",children:(0,d.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",className:"jsx-c065b01ba60523e6"})}),"My Favorites"]}),(0,d.jsxs)(f,{href:"/settings",className:"dropdown-item",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-c065b01ba60523e6",children:(0,d.jsx)("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z",className:"jsx-c065b01ba60523e6"})}),"Settings"]})]}),(0,d.jsx)("div",{className:"jsx-c065b01ba60523e6 dropdown-divider"}),(0,d.jsx)("div",{className:"jsx-c065b01ba60523e6 dropdown-section",children:(0,d.jsxs)("button",{onClick:m,className:"jsx-c065b01ba60523e6 dropdown-item logout",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-c065b01ba60523e6",children:(0,d.jsx)("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z",className:"jsx-c065b01ba60523e6"})}),"Sign Out"]})})]}),(0,d.jsx)(h,{id:"c065b01ba60523e6",children:".auth-loading.jsx-c065b01ba60523e6{display:flex;align-items:center;gap:8px}.loading-spinner.jsx-c065b01ba60523e6{width:16px;height:16px;border:2px solid#e5e7eb;border-top:2px solid#1A73E8;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.user-menu.jsx-c065b01ba60523e6{position:relative}.user-button.jsx-c065b01ba60523e6{display:flex;align-items:center;gap:8px;background:none;border:none;cursor:pointer;padding:8px 12px;border-radius:8px;transition:background-color.2s;color:inherit}.user-button.jsx-c065b01ba60523e6:hover{background:rgba(0,0,0,.05)}.user-avatar.jsx-c065b01ba60523e6{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#1A73E8,#0056b3);color:white;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px}.user-name.jsx-c065b01ba60523e6{font-weight:500;color:#374151;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-arrow.jsx-c065b01ba60523e6{transition:transform.2s;color:#6b7280}.dropdown-arrow.open.jsx-c065b01ba60523e6{transform:rotate(180deg)}.dropdown-menu.jsx-c065b01ba60523e6{position:absolute;top:100%;right:0;background:white;border:1px solid#e5e7eb;border-radius:8px;box-shadow:0 10px 25px -5px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);min-width:280px;z-index:50;margin-top:4px}.dropdown-header.jsx-c065b01ba60523e6{padding:16px}.user-info.jsx-c065b01ba60523e6{display:flex;align-items:center;gap:12px}.user-avatar-large.jsx-c065b01ba60523e6{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#1A73E8,#0056b3);color:white;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px}.user-details.jsx-c065b01ba60523e6{flex:1;min-width:0}.user-full-name.jsx-c065b01ba60523e6{margin:0 0 2px 0;font-weight:600;color:#111827;font-size:14px}.user-email.jsx-c065b01ba60523e6{margin:0;font-size:12px;color:#6b7280;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dropdown-divider.jsx-c065b01ba60523e6{height:1px;background:#e5e7eb;margin:0 8px}.dropdown-section.jsx-c065b01ba60523e6{padding:8px}.dropdown-item.jsx-c065b01ba60523e6{display:flex;align-items:center;gap:12px;width:100%;padding:10px 12px;text-decoration:none;color:#374151;border-radius:6px;transition:background-color.2s;font-size:14px;border:none;background:none;cursor:pointer;text-align:left}.dropdown-item.jsx-c065b01ba60523e6:hover{background:#f3f4f6}.dropdown-item.logout.jsx-c065b01ba60523e6{color:#dc2626}.dropdown-item.logout.jsx-c065b01ba60523e6:hover{background:#fef2f2}@media(max-width:768px){.user-name.jsx-c065b01ba60523e6{display:none}.dropdown-menu.jsx-c065b01ba60523e6{min-width:260px}}"})]}):(0,d.jsxs)("div",{className:"jsx-d30b8122c1b14d8e auth-buttons",children:[(0,d.jsx)(f,{href:"/login",className:"auth-btn login",children:"Sign In"}),(0,d.jsx)(f,{href:"/signup",className:"auth-btn signup",children:"Sign Up"}),(0,d.jsx)(h,{id:"d30b8122c1b14d8e",children:".auth-buttons.jsx-d30b8122c1b14d8e{display:flex;align-items:center;gap:8px}.auth-btn.jsx-d30b8122c1b14d8e{padding:8px 16px;border-radius:6px;text-decoration:none;font-weight:500;font-size:14px;transition:all.2s;border:1px solid transparent}.auth-btn.login.jsx-d30b8122c1b14d8e{color:#1A73E8;border-color:#d1d5db;font-weight:600}.auth-btn.login.jsx-d30b8122c1b14d8e:hover{background:#eef4ff;border-color:#1A73E8;color:#1557b0}.auth-btn.signup.jsx-d30b8122c1b14d8e{background:#1A73E8;color:white}.auth-btn.signup.jsx-d30b8122c1b14d8e:hover{background:#1557b0}@media(max-width:768px){.auth-buttons.jsx-d30b8122c1b14d8e{gap:4px}.auth-btn.jsx-d30b8122c1b14d8e{padding:6px 12px;font-size:13px}}"})]})},k=()=>{let[a,b]=(0,e.useState)(""),[c,f]=(0,e.useState)(!1),[i,j]=(0,e.useState)([]),[k,l]=(0,e.useState)(!1),m=(0,e.useRef)(null),n=(0,g.useRouter)(),o=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api";(0,e.useEffect)(()=>{let a=a=>{m.current&&!m.current.contains(a.target)&&l(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,e.useEffect)(()=>{if(!a.trim()||a.length<2){j([]),l(!1);return}let b=setTimeout(async()=>{try{f(!0);let b=await fetch(`${o}/deals?search=${encodeURIComponent(a)}&limit=5`,{credentials:"include"});if(b.ok){let c=await b.json();if(c.success&&Array.isArray(c.data)){let b=c.data.slice(0,4).map(a=>({type:"deal",title:a.title,category:a.category,price:a.salePrice||a.price,originalPrice:a.originalPrice})),d=[{type:"query",title:a,description:`Search for "${a}"`},...b];j(d),l(!0)}}}catch(a){}finally{f(!1)}},300);return()=>clearTimeout(b)},[a,o]);let p=a=>{l(!1),n.push(`/search?q=${encodeURIComponent(a)}`)};return(0,d.jsxs)("div",{ref:m,className:"jsx-ee9ce86b1309fb22 search-container",children:[(0,d.jsx)("form",{onSubmit:b=>{b.preventDefault(),a.trim()&&p(a.trim())},className:"jsx-ee9ce86b1309fb22 search-form",children:(0,d.jsxs)("div",{className:"jsx-ee9ce86b1309fb22 search-input-wrapper",children:[(0,d.jsx)("input",{type:"search",placeholder:"Search deals...",value:a,onChange:a=>{b(a.target.value)},onFocus:()=>{i.length>0&&l(!0)},className:"jsx-ee9ce86b1309fb22 search-input"}),(0,d.jsx)("button",{type:"submit",disabled:c,className:"jsx-ee9ce86b1309fb22 search-button",children:c?(0,d.jsx)("div",{className:"jsx-ee9ce86b1309fb22 search-spinner"}):(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-ee9ce86b1309fb22",children:(0,d.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",className:"jsx-ee9ce86b1309fb22"})})})]})}),k&&i.length>0&&(0,d.jsx)("div",{className:"jsx-ee9ce86b1309fb22 suggestions-dropdown",children:i.map((a,b)=>(0,d.jsx)("div",{onClick:()=>(a=>{a.type,p(a.title)})(a),className:`jsx-ee9ce86b1309fb22 suggestion-item ${a.type}`,children:"query"===a.type?(0,d.jsxs)("div",{className:"jsx-ee9ce86b1309fb22 suggestion-query",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-ee9ce86b1309fb22 suggestion-icon",children:(0,d.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z",className:"jsx-ee9ce86b1309fb22"})}),(0,d.jsx)("span",{className:"jsx-ee9ce86b1309fb22 suggestion-text",children:a.description})]}):(0,d.jsx)("div",{className:"jsx-ee9ce86b1309fb22 suggestion-deal",children:(0,d.jsxs)("div",{className:"jsx-ee9ce86b1309fb22 suggestion-deal-info",children:[(0,d.jsx)("div",{className:"jsx-ee9ce86b1309fb22 suggestion-deal-title",children:a.title}),(0,d.jsxs)("div",{className:"jsx-ee9ce86b1309fb22 suggestion-deal-meta",children:[(0,d.jsx)("span",{className:"jsx-ee9ce86b1309fb22 suggestion-category",children:a.category}),(0,d.jsxs)("span",{className:"jsx-ee9ce86b1309fb22 suggestion-price",children:["$",a.price,a.originalPrice&&a.originalPrice>a.price&&(0,d.jsxs)("span",{className:"jsx-ee9ce86b1309fb22 suggestion-original-price",children:["$",a.originalPrice]})]})]})]})})},b))}),(0,d.jsx)(h,{id:"ee9ce86b1309fb22",children:".search-container.jsx-ee9ce86b1309fb22{position:relative;width:100%;max-width:400px}.search-form.jsx-ee9ce86b1309fb22{width:100%}.search-input-wrapper.jsx-ee9ce86b1309fb22{position:relative;display:flex;align-items:center;background:white;border:1px solid#d1d5db;border-radius:8px;transition:border-color.2s,box-shadow.2s}.search-input-wrapper.jsx-ee9ce86b1309fb22:focus-within{border-color:#1A73E8;box-shadow:0 0 0 3px rgba(26,115,232,.1)}.search-input.jsx-ee9ce86b1309fb22{flex:1;padding:10px 14px;border:none;background:transparent;font-size:14px;outline:none;border-radius:8px 0 0 8px}.search-input.jsx-ee9ce86b1309fb22::placeholder{color:#9ca3af}.search-button.jsx-ee9ce86b1309fb22{display:flex;align-items:center;justify-content:center;padding:10px 14px;background:#1A73E8;color:white;border:none;border-radius:0 8px 8px 0;cursor:pointer;transition:background-color.2s;min-width:44px}.search-button.jsx-ee9ce86b1309fb22:hover:not(:disabled){background:#1557b0}.search-button.jsx-ee9ce86b1309fb22:disabled{background:#9ca3af;cursor:not-allowed}.search-spinner.jsx-ee9ce86b1309fb22{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.suggestions-dropdown.jsx-ee9ce86b1309fb22{position:absolute;top:100%;left:0;right:0;background:white;border:1px solid#e5e7eb;border-radius:8px;box-shadow:0 10px 25px -5px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);z-index:50;margin-top:4px;max-height:300px;overflow-y:auto}.suggestion-item.jsx-ee9ce86b1309fb22{padding:12px 16px;cursor:pointer;border-bottom:1px solid#f3f4f6;transition:background-color.2s}.suggestion-item.jsx-ee9ce86b1309fb22:last-child{border-bottom:none}.suggestion-item.jsx-ee9ce86b1309fb22:hover{background:#f9fafb}.suggestion-item.query.jsx-ee9ce86b1309fb22{border-bottom:2px solid#e5e7eb;background:#fafafa}.suggestion-query.jsx-ee9ce86b1309fb22{display:flex;align-items:center;gap:10px}.suggestion-icon.jsx-ee9ce86b1309fb22{color:#6b7280;flex-shrink:0}.suggestion-text.jsx-ee9ce86b1309fb22{font-size:14px;color:#374151;font-weight:500}.suggestion-deal.jsx-ee9ce86b1309fb22{display:flex;align-items:center;gap:12px}.suggestion-deal-info.jsx-ee9ce86b1309fb22{flex:1;min-width:0}.suggestion-deal-title.jsx-ee9ce86b1309fb22{font-size:14px;font-weight:500;color:#111827;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:2px}.suggestion-deal-meta.jsx-ee9ce86b1309fb22{display:flex;align-items:center;justify-content:space-between;gap:8px}.suggestion-category.jsx-ee9ce86b1309fb22{font-size:12px;color:#6b7280;text-transform:capitalize}.suggestion-price.jsx-ee9ce86b1309fb22{font-size:13px;font-weight:600;color:#059669;display:flex;align-items:center;gap:4px}.suggestion-original-price.jsx-ee9ce86b1309fb22{font-size:11px;color:#9ca3af;text-decoration:line-through;font-weight:normal}@media(max-width:768px){.search-container.jsx-ee9ce86b1309fb22{max-width:300px}.search-input.jsx-ee9ce86b1309fb22{font-size:16px;padding:8px 12px}.search-button.jsx-ee9ce86b1309fb22{padding:8px 12px;min-width:40px}.suggestion-item.jsx-ee9ce86b1309fb22{padding:10px 12px}.suggestions-dropdown.jsx-ee9ce86b1309fb22{max-height:250px}}"})]})};var l=c(6569),m=c(7265);let n=()=>{let{theme:a,toggleTheme:b,isDark:c}=(0,l.DP)();return(0,d.jsxs)("button",{onClick:b,className:`${m.themeToggle} ${c?m.dark:m.light}`,"aria-label":`Switch to ${c?"light":"dark"} mode`,title:`Switch to ${c?"light":"dark"} mode`,children:[(0,d.jsx)("div",{className:m.toggleTrack,children:(0,d.jsx)("div",{className:m.toggleThumb,children:(0,d.jsx)("span",{className:"material-icons","aria-hidden":"true",children:c?"dark_mode":"light_mode"})})}),(0,d.jsx)("span",{className:m.toggleLabel,children:c?"Dark":"Light"})]})},o=({children:a})=>{let b=(0,g.useRouter)(),[c,h]=(0,e.useState)(!1),[i,l]=(0,e.useState)(""),[m,o]=(0,e.useState)("idle"),[p,q]=(0,e.useState)(""),r=a=>"/"===a?"/"===b.pathname:b.pathname.startsWith(a),s=async a=>{a.preventDefault(),o("loading"),q("");try{let a=await fetch("/api/newsletter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),b=await a.json();if(!a.ok)throw Error(b.message||"Something went wrong");o("success"),q(b.message),l("")}catch(a){o("error"),q(a.message)}};return(0,d.jsxs)("div",{className:"app-layout",children:[(0,d.jsx)("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),(0,d.jsx)("header",{className:"main-header",role:"banner",children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"header-content",children:[(0,d.jsx)("div",{className:"logo",children:(0,d.jsxs)(f,{href:"/",className:"logo-link","aria-label":"DealRadarUS - Home",children:[(0,d.jsx)("div",{className:"logo-animated",children:(0,d.jsxs)("svg",{width:"200",height:"60",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 60",role:"img","aria-labelledby":"logo-title","aria-describedby":"logo-desc",children:[(0,d.jsx)("title",{id:"logo-title",children:"DealRadarUS Logo"}),(0,d.jsx)("desc",{id:"logo-desc",children:"Animated radar scanning for deals with shopping cart"}),(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:"radarGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,d.jsx)("stop",{offset:"0%",stopColor:"var(--primary-blue)"}),(0,d.jsx)("stop",{offset:"100%",stopColor:"var(--primary-blue-dark)"})]})}),(0,d.jsxs)("g",{transform:"translate(30, 30)",children:[(0,d.jsx)("circle",{cx:"0",cy:"0",r:"25",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",opacity:"0.3"}),(0,d.jsx)("circle",{cx:"0",cy:"0",r:"18",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",opacity:"0.5"}),(0,d.jsx)("circle",{cx:"0",cy:"0",r:"11",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",opacity:"0.7"}),(0,d.jsx)("line",{x1:"0",y1:"0",x2:"22",y2:"-8",stroke:"url(#radarGradient)",strokeWidth:"3",strokeLinecap:"round",className:"radar-sweep"}),(0,d.jsx)("circle",{cx:"0",cy:"0",r:"3",fill:"url(#radarGradient)"}),(0,d.jsx)("circle",{cx:"12",cy:"-6",r:"2",fill:"var(--urgent-red)",opacity:"0.8",className:"deal-indicator deal-indicator-1"}),(0,d.jsx)("circle",{cx:"-8",cy:"15",r:"2",fill:"var(--urgent-red)",opacity:"0.6",className:"deal-indicator deal-indicator-2"}),(0,d.jsx)("circle",{cx:"18",cy:"12",r:"2",fill:"var(--urgent-red)",opacity:"0.7",className:"deal-indicator deal-indicator-3"})]}),(0,d.jsxs)("g",{transform:"translate(45, 35)",children:[(0,d.jsx)("path",{d:"M2 2h2l.4 2h7.6l-1.4 6H5L3 4H1",fill:"none",stroke:"url(#radarGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("circle",{cx:"6",cy:"15",r:"1",fill:"url(#radarGradient)"}),(0,d.jsx)("circle",{cx:"11",cy:"15",r:"1",fill:"url(#radarGradient)"})]}),(0,d.jsx)("text",{x:"75",y:"25",fontFamily:"Arial, sans-serif",fontSize:"18",fontWeight:"bold",fill:"var(--primary-blue)",children:"DealRadar"}),(0,d.jsx)("text",{x:"75",y:"42",fontFamily:"Arial, sans-serif",fontSize:"12",fontWeight:"normal",fill:"var(--text-tertiary)",children:"US"})]})}),(0,d.jsx)("div",{className:"logo-tagline",children:(0,d.jsx)("span",{children:"Your Radar for the Best Deals"})})]})}),(0,d.jsx)("nav",{className:`main-nav ${c?"active":""}`,role:"navigation","aria-label":"Main navigation",children:(0,d.jsxs)("ul",{className:"nav-menu",role:"menubar",children:[(0,d.jsx)("li",{role:"none",children:(0,d.jsxs)(f,{href:"/",className:`nav-link ${r("/")?"active":""}`,role:"menuitem","aria-current":r("/")?"page":void 0,"aria-label":"Home - Navigate to homepage",children:[(0,d.jsx)("span",{className:"material-icons nav-icon","aria-hidden":"true",children:"home"}),"Home"]})}),(0,d.jsx)("li",{role:"none",children:(0,d.jsxs)(f,{href:"/deals",className:`nav-link ${r("/deals")?"active":""}`,role:"menuitem","aria-current":r("/deals")?"page":void 0,"aria-label":"Deals - Browse all current deals",children:[(0,d.jsx)("span",{className:"material-icons nav-icon","aria-hidden":"true",children:"local_offer"}),"Deals"]})}),(0,d.jsx)("li",{role:"none",children:(0,d.jsxs)(f,{href:"/blog",className:`nav-link ${r("/blog")?"active":""}`,role:"menuitem","aria-current":r("/blog")?"page":void 0,"aria-label":"Blog - Read articles and buying guides",children:[(0,d.jsx)("span",{className:"material-icons nav-icon","aria-hidden":"true",children:"article"}),"Blog"]})}),(0,d.jsx)("li",{role:"none",children:(0,d.jsxs)(f,{href:"/about",className:`nav-link ${r("/about")?"active":""}`,role:"menuitem","aria-current":r("/about")?"page":void 0,"aria-label":"About - Learn about DealRadarUS",children:[(0,d.jsx)("span",{className:"material-icons nav-icon","aria-hidden":"true",children:"info"}),"About"]})}),(0,d.jsx)("li",{role:"none",children:(0,d.jsxs)(f,{href:"/contact",className:`nav-link ${r("/contact")?"active":""}`,role:"menuitem","aria-current":r("/contact")?"page":void 0,"aria-label":"Contact - Get in touch with us",children:[(0,d.jsx)("span",{className:"material-icons nav-icon","aria-hidden":"true",children:"contact_mail"}),"Contact"]})})]})}),(0,d.jsxs)("div",{className:"header-actions",children:[(0,d.jsx)(k,{}),(0,d.jsx)(n,{}),(0,d.jsx)(j,{}),(0,d.jsxs)("div",{className:"social-links","aria-label":"Follow us on social media",children:[(0,d.jsxs)("a",{href:"https://facebook.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"social-link facebook","aria-label":"Follow DealRadarUS on Facebook - 25K followers",children:[(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,d.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,d.jsx)("span",{"aria-hidden":"true",children:"25K"})]}),(0,d.jsx)("a",{href:"https://twitter.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"social-link twitter","aria-label":"Follow DealRadarUS on Twitter",children:(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,d.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,d.jsx)("a",{href:"https://instagram.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram","aria-label":"Follow DealRadarUS on Instagram",children:(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,d.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),(0,d.jsx)("button",{className:"mobile-menu-btn","aria-label":"Toggle menu",onClick:()=>h(!c),"aria-expanded":c,children:(0,d.jsx)("span",{className:"material-icons","aria-hidden":"true",children:c?"close":"menu"})})]})})}),(0,d.jsx)("main",{id:"main-content",className:"main-content",role:"main",children:a}),(0,d.jsx)("footer",{className:"main-footer",role:"contentinfo",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:"footer-content",children:[(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h3",{children:"DealRadarUS"}),(0,d.jsx)("p",{children:"Your trusted source for the best tech deals in the US. We scan thousands of deals daily to bring you verified discounts on electronics, gadgets, and more."}),(0,d.jsxs)("div",{className:"social-links",children:[(0,d.jsxs)("a",{href:"https://facebook.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"footer-social-link",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]}),(0,d.jsxs)("a",{href:"https://twitter.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"footer-social-link",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Twitter"]}),(0,d.jsxs)("a",{href:"https://instagram.com/dealradarus",target:"_blank",rel:"noopener noreferrer",className:"footer-social-link",children:[(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Instagram"]})]})]}),(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"Quick Links"}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)(f,{href:"/",children:"Home"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f,{href:"/deals",children:"All Deals"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f,{href:"/blog",children:"Blog"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"#newsletter",children:"Newsletter"})})]})]}),(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"Categories"}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/deals?category=smartphones",children:"Smartphones"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/deals?category=laptops",children:"Laptops"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/deals?category=gaming",children:"Gaming"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/deals?category=smart-home",children:"Smart Home"})})]})]}),(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"Support"}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/contact",children:"Contact Us"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/privacy",children:"Privacy Policy"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/terms",children:"Terms of Service"})}),(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:"/about",children:"About Us"})})]})]}),(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"\uD83D\uDD14 Deal Alerts"}),(0,d.jsx)("p",{children:"Get the best deals in your inbox!"}),(0,d.jsxs)("form",{className:"footer-newsletter",onSubmit:s,children:[(0,d.jsx)("input",{type:"email",placeholder:"Your email",required:!0,value:i,onChange:a=>l(a.target.value),disabled:"loading"===m}),(0,d.jsx)("button",{type:"submit",disabled:"loading"===m,children:"loading"===m?"Subscribing...":"Subscribe"})]}),"success"===m&&(0,d.jsx)("small",{className:"newsletter-success",children:p}),"error"===m&&(0,d.jsx)("small",{className:"newsletter-error",children:p}),"success"!==m&&"error"!==m&&(0,d.jsx)("small",{children:"Join 25K+ deal hunters"})]})]}),(0,d.jsx)("div",{className:"footer-bottom",children:(0,d.jsxs)("div",{className:"footer-legal",children:[(0,d.jsx)("p",{children:"\xa9 2024 DealRadarUS. All rights reserved."}),(0,d.jsx)("p",{className:"affiliate-notice",children:"\uD83D\uDD17 This site contains affiliate links. We may earn a commission from qualifying purchases at no extra cost to you."})]})})]})})]})}},8380:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Aj:()=>K,Ay:()=>L,Dz:()=>G,Fo:()=>J,Ip:()=>i,JO:()=>B,LG:()=>A,MP:()=>k,NL:()=>j,Ny:()=>h,Nz:()=>D,Se:()=>v,UO:()=>E,V5:()=>u,Vh:()=>I,Zv:()=>q,aV:()=>t,nT:()=>F,ov:()=>C,x6:()=>H});var e=c(9198),f=c(6992),g=a([e,f]);[e,f]=g.then?(await g)():g;let h=(0,e.createAsyncThunk)("inAppNotifications/fetchHistory",async({limit:a=20,offset:b=0,status:c=null,append:d=!1},{rejectWithValue:e})=>{try{let e=new URLSearchParams({limit:a,offset:b});c&&e.append("status",c);let g=await f.A.get(`/notifications/history?${e}`);return{notifications:g.data.notifications,pagination:g.data.pagination,append:d}}catch(a){return e({message:a.response?.data?.message||"Failed to fetch notifications",status:a.response?.status})}}),i=(0,e.createAsyncThunk)("inAppNotifications/markRead",async(a,{rejectWithValue:b})=>{try{return await f.A.post("/notifications/track/open",{notificationId:a}),a}catch(a){return b({message:a.response?.data?.message||"Failed to mark notification as read",status:a.response?.status})}}),j=(0,e.createAsyncThunk)("inAppNotifications/markAllRead",async(a,{getState:b,rejectWithValue:c})=>{try{let{items:a}=b().inAppNotifications,c=a.filter(a=>!a.opened_at).map(a=>a.id),d=c.map(a=>f.A.post("/notifications/track/open",{notificationId:a}));return await Promise.all(d),c}catch(a){return c({message:a.response?.data?.message||"Failed to mark all notifications as read",status:a.response?.status})}}),k=(0,e.createAsyncThunk)("inAppNotifications/trackClick",async({notificationId:a,targetUrl:b},{rejectWithValue:c})=>{try{let c=await f.A.post("/notifications/track/click",{notificationId:a,targetUrl:b});return{notificationId:a,redirectUrl:c.data.redirectUrl}}catch(a){return c({message:a.response?.data?.message||"Failed to track click",status:a.response?.status})}}),l=(0,e.createAsyncThunk)("inAppNotifications/fetchPreferences",async(a,{rejectWithValue:b})=>{try{return(await f.A.get("/notifications/prefs")).data.preferences}catch(a){return b({message:a.response?.data?.message||"Failed to fetch preferences",status:a.response?.status})}}),m=(0,e.createAsyncThunk)("inAppNotifications/updatePreferences",async(a,{rejectWithValue:b})=>{try{return(await f.A.patch("/notifications/prefs",a)).preferences}catch(a){return b({message:a.response?.data?.message||"Failed to update preferences",status:a.response?.status})}}),n={items:[],pagination:{limit:20,offset:0,total:0,hasMore:!1},loading:!1,loadingMore:!1,error:null,unreadCount:0,totalCount:0,lastFetched:null,preferences:null,preferencesLoading:!1,preferencesError:null,statusFilter:null,isOpen:!1,highlightedId:null},o=(0,e.createSlice)({name:"inAppNotifications",initialState:n,reducers:{openPanel:a=>{a.isOpen=!0},closePanel:a=>{a.isOpen=!1},togglePanel:a=>{a.isOpen=!a.isOpen},highlightNotification:(a,b)=>{a.highlightedId=b.payload},clearHighlight:a=>{a.highlightedId=null},setStatusFilter:(a,b)=>{a.statusFilter=b.payload,a.pagination.offset=0,a.items=[]},clearFilter:a=>{a.statusFilter=null,a.pagination.offset=0,a.items=[]},clearAll:a=>({...n}),clearError:a=>{a.error=null,a.preferencesError=null},addNotification:(a,b)=>{let c=b.payload;a.items.unshift(c),a.totalCount+=1,c.opened_at||(a.unreadCount+=1);let d=new Set;a.items=a.items.filter(a=>!d.has(a.id)&&(d.add(a.id),!0))},updateNotification:(a,b)=>{let{id:c,updates:d}=b.payload,e=a.items.findIndex(a=>a.id===c);-1!==e&&(a.items[e]={...a.items[e],...d},d.opened_at&&!a.items[e].opened_at&&(a.unreadCount=Math.max(0,a.unreadCount-1)))}},extraReducers:a=>{a.addCase(h.pending,(a,b)=>{let{append:c}=b.meta.arg;c?a.loadingMore=!0:a.loading=!0,a.error=null}).addCase(h.fulfilled,(a,b)=>{let{notifications:c,pagination:d,append:e}=b.payload;a.loading=!1,a.loadingMore=!1,a.error=null,a.lastFetched=Date.now(),e?a.items=[...a.items,...c]:a.items=c,a.pagination=d,a.totalCount=d.total,a.unreadCount=a.items.filter(a=>!a.opened_at).length}).addCase(h.rejected,(a,b)=>{a.loading=!1,a.loadingMore=!1,a.error=b.payload?.message||"Failed to fetch notifications"}),a.addCase(i.fulfilled,(a,b)=>{let c=b.payload,d=a.items.find(a=>a.id===c);d&&!d.opened_at&&(d.opened_at=new Date().toISOString(),a.unreadCount=Math.max(0,a.unreadCount-1))}),a.addCase(j.fulfilled,(a,b)=>{let c=b.payload;a.items.forEach(a=>{c.includes(a.id)&&(a.opened_at=new Date().toISOString())}),a.unreadCount=0}),a.addCase(k.fulfilled,(a,b)=>{let{notificationId:c}=b.payload,d=a.items.find(a=>a.id===c);d&&(d.clicked_at=new Date().toISOString(),d.opened_at||(d.opened_at=new Date().toISOString(),a.unreadCount=Math.max(0,a.unreadCount-1)))}),a.addCase(l.pending,a=>{a.preferencesLoading=!0,a.preferencesError=null}).addCase(l.fulfilled,(a,b)=>{a.preferencesLoading=!1,a.preferences=b.payload}).addCase(l.rejected,(a,b)=>{a.preferencesLoading=!1,a.preferencesError=b.payload?.message||"Failed to fetch preferences"}),a.addCase(m.pending,a=>{a.preferencesLoading=!0,a.preferencesError=null}).addCase(m.fulfilled,(a,b)=>{a.preferencesLoading=!1,a.preferences=b.payload}).addCase(m.rejected,(a,b)=>{a.preferencesLoading=!1,a.preferencesError=b.payload?.message||"Failed to update preferences"})}}),{openPanel:p,closePanel:q,togglePanel:r,highlightNotification:s,clearHighlight:t,setStatusFilter:u,clearFilter:v,clearAll:w,clearError:x,addNotification:y,updateNotification:z}=o.actions,A=a=>a.inAppNotifications.items,B=a=>a.inAppNotifications.unreadCount,C=a=>a.inAppNotifications.totalCount,D=a=>a.inAppNotifications.loading,E=a=>a.inAppNotifications.loadingMore,F=a=>a.inAppNotifications.error,G=a=>a.inAppNotifications.pagination,H=a=>a.inAppNotifications.isOpen,I=a=>a.inAppNotifications.highlightedId,J=a=>a.inAppNotifications.statusFilter,K=a=>a.inAppNotifications.unreadCount>0,L=o.reducer;d()}catch(a){d(a)}})},8983:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>h});var d=c(8732),e=c(2015);class f extends e.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,b){this.setState({error:a,errorInfo:b}),this.logErrorToService(a,b)}logErrorToService(a,b){a.message,a.stack,b.componentStack,new Date().toISOString(),navigator.userAgent,window.location.href}render(){return this.state.hasError?(0,d.jsx)("div",{style:g.container,children:(0,d.jsxs)("div",{style:g.content,children:[(0,d.jsx)("div",{style:g.icon,children:"âš ï¸"}),(0,d.jsx)("h2",{style:g.title,children:"Something went wrong"}),(0,d.jsx)("p",{style:g.message,children:"We're sorry! Something unexpected happened. Our team has been notified."}),(0,d.jsxs)("div",{style:g.actions,children:[(0,d.jsx)("button",{style:g.reloadButton,onClick:()=>window.location.reload(),children:"\uD83D\uDD04 Reload Page"}),(0,d.jsx)("button",{style:g.homeButton,onClick:()=>window.location.href="/",children:"\uD83C\uDFE0 Go Home"})]}),!1,(0,d.jsxs)("div",{style:g.errorId,children:["Error ID: ",Date.now().toString(36)]})]})}):this.props.children}}let g={container:{minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#f8f9fa"},content:{textAlign:"center",maxWidth:"600px",width:"100%",backgroundColor:"white",borderRadius:"8px",padding:"40px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},icon:{fontSize:"4rem",marginBottom:"20px"},title:{color:"#e74c3c",marginBottom:"10px",fontSize:"1.5rem"},message:{color:"#555",marginBottom:"30px",lineHeight:"1.5"},actions:{display:"flex",gap:"15px",justifyContent:"center",marginBottom:"30px"},reloadButton:{padding:"12px 24px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},homeButton:{padding:"12px 24px",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},errorId:{fontSize:"0.8rem",color:"#999",fontFamily:"monospace",marginTop:"20px"}},h=311==c.j?f:null},9033:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>q});var e=c(8732),f=c(2015),g=c(9788),h=c(9501),i=c(4062),j=c(2619),k=c(6496),l=c(6569),m=c(7298),n=c(8983);c(4920),311==c.j&&c(708),311==c.j&&c(6990);var o=c(7285);c(2768);var p=a([i,j]);[i,j]=p.then?(await p)():p;let r=h(()=>c.e(104).then(c.bind(c,8104)),{loadableGenerated:{modules:["pages/_app.js -> ../components/ui/NotificationToast"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})}),s=h(()=>c.e(446).then(c.bind(c,6446)),{loadableGenerated:{modules:["pages/_app.js -> ../components/reports/ReportModal"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})}),t=h(()=>c.e(490).then(c.bind(c,490)),{loadableGenerated:{modules:["pages/_app.js -> ../components/ui/CookieBanner"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})}),u=h(()=>c.e(100).then(c.bind(c,5100)),{loadableGenerated:{modules:["pages/_app.js -> ../components/ui/ChatWidget"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})}),v=h(()=>c.e(604).then(c.bind(c,9575)),{loadableGenerated:{modules:["pages/_app.js -> ../components/ui/NotificationCenter"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})}),w=h(()=>c.e(860).then(c.bind(c,2860)),{loadableGenerated:{modules:["pages/_app.js -> ../components/monitoring/PerformanceDashboard"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})}),x=h(()=>c.e(570).then(c.bind(c,2570)),{loadableGenerated:{modules:["pages/_app.js -> ../components/analytics/AnalyticsDashboard"]},ssr:!1,loading:()=>(0,e.jsx)(o.A,{})});function q({Component:a,pageProps:b}){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(g,{children:[(0,e.jsx)("meta",{name:"robots",content:"index, follow"}),(0,e.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,e.jsx)("link",{rel:"apple-touch-icon",href:"/logo-concept.svg"}),(0,e.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:"DealRadarUS",url:"https://dealradarus.com",logo:"https://dealradarus.com/logo-concept.svg",description:"Find the best deals from top US retailers. Smart deal aggregation platform with real-time price tracking and exclusive offers.",sameAs:["https://facebook.com/dealradarus","https://twitter.com/dealradarus"],potentialAction:{"@type":"SearchAction",target:"https://dealradarus.com/deals?q={search_term_string}","query-input":"required name=search_term_string"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"12500"},founder:{"@type":"Person",name:"DealRadar Team"},address:{"@type":"PostalAddress",addressCountry:"US"}})})]}),(0,e.jsx)(n.Ay,{children:(0,e.jsx)(i.Provider,{store:j.M,children:(0,e.jsx)(l.NP,{children:(0,e.jsxs)(k.OJ,{children:[(0,e.jsx)(m.A,{children:(0,e.jsx)(a,{...b})}),(0,e.jsxs)(f.Suspense,{fallback:(0,e.jsx)(o.A,{}),children:[(0,e.jsx)(r,{}),(0,e.jsx)(s,{}),(0,e.jsx)(t,{}),(0,e.jsx)(u,{}),(0,e.jsx)(v,{}),(0,e.jsx)(w,{isAdmin:!0}),(0,e.jsx)(x,{isAdmin:!0})]})]})})})})]})}d()}catch(a){d(a)}})},9129:a=>{a.exports={"loading-container":"LoadingSpinner_loading-container__h6p9N","loading-spinner":"LoadingSpinner_loading-spinner__cFZts",spin:"LoadingSpinner_spin__l6Oxm","loading-spinner--small":"LoadingSpinner_loading-spinner--small__ivFIk","loading-spinner--medium":"LoadingSpinner_loading-spinner--medium__xQ_u3","loading-spinner--large":"LoadingSpinner_loading-spinner--large__9emXE","loading-text":"LoadingSpinner_loading-text__ElBTr"}},9487:a=>{a.exports={categoryIcon:"CategoryIcon_categoryIcon__WUqhE","categoryIcon--small":"CategoryIcon_categoryIcon--small___y96D","categoryIcon--medium":"CategoryIcon_categoryIcon--medium__C8118","categoryIcon--large":"CategoryIcon_categoryIcon--large__zD6rH","categoryIcon--xlarge":"CategoryIcon_categoryIcon--xlarge__GnV4w","categoryIcon--smartphones":"CategoryIcon_categoryIcon--smartphones__5fBBh","categoryIcon--laptops":"CategoryIcon_categoryIcon--laptops__GcTOY","categoryIcon--smartHome":"CategoryIcon_categoryIcon--smartHome__6vwQ4","categoryIcon--gaming":"CategoryIcon_categoryIcon--gaming__G_4Ab","categoryIcon--openBox":"CategoryIcon_categoryIcon--openBox__3LiXj","categoryIcon--audio":"CategoryIcon_categoryIcon--audio___kDzj"}}};