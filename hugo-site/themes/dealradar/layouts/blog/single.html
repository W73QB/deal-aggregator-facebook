{{ define "main" }}
<article class="blog-post">
  <header class="post-header">
    <div class="container">
      {{ if .Params.categories }}
      <div class="post-category">{{ index .Params.categories 0 }}</div>
      {{ end }}
      <h1>{{ .Title }}</h1>
      <div class="post-meta">
        <span class="author">By {{ if .Params.author }}{{ .Params.author }}{{ else }}{{ .Site.Params.author }}{{ end }}</span>
        <span class="separator">•</span>
        <time datetime="{{ .PublishDate.Format "2006-01-02" }}">{{ .PublishDate.Format "January 2, 2006" }}</time>
        {{ if .Params.readTime }}
        <span class="separator">•</span>
        <span class="read-time">{{ .Params.readTime }}</span>
        {{ end }}
      </div>
    </div>
  </header>

  {{ if .Params.image }}
  <div class="featured-image">
    <img src="{{ .Params.image }}" alt="{{ .Title }}" width="1200" height="630">
  </div>
  {{ end }}

  <div class="container">
    <div class="post-content">
      {{ .Content }}
    </div>

    {{ if .Params.tags }}
    <div class="post-tags">
      <strong>Tags:</strong>
      {{ range .Params.tags }}
      <a href="/tags/{{ . | urlize }}/" class="tag">{{ . }}</a>
      {{ end }}
    </div>
    {{ end }}

    <div class="affiliate-disclosure">
      <p><strong>Disclosure:</strong> {{ .Site.Params.affiliateDisclosure }}</p>
    </div>

    <div class="post-share">
      <h3>Share this post:</h3>
      <div class="share-buttons">
        <a href="https://twitter.com/intent/tweet?url={{ .Permalink }}&text={{ .Title }}" target="_blank" rel="noopener" class="share-btn twitter">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/></svg>
          Tweet
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink }}" target="_blank" rel="noopener" class="share-btn facebook">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/></svg>
          Share
        </a>
      </div>
    </div>

    <nav class="post-navigation">
      {{ with .PrevInSection }}
      <a href="{{ .Permalink }}" class="nav-prev">
        <span class="nav-label">← Previous Post</span>
        <span class="nav-title">{{ .Title }}</span>
      </a>
      {{ end }}
      {{ with .NextInSection }}
      <a href="{{ .Permalink }}" class="nav-next">
        <span class="nav-label">Next Post →</span>
        <span class="nav-title">{{ .Title }}</span>
      </a>
      {{ end }}
    </nav>
  </div>
</article>
{{ end }}
